<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='# åˆ›å»º å¾ªç¯ç¾¤ è¿™é‡Œçš„è¯è€ƒè™‘çš„æ˜¯ç®€å•æƒ…å†µï¼Œä½¿ç”¨å¯¹åº”çš„å¾ªç¯ç¾¤ã€‚å¯¹åº”çš„æ–¹æ³•å¦‚ä¸‹ï¼š 1 2 N = 8 gspace = gspaces.Rot2dOnR2(N=N) ç„¶åçœ‹è¿™ä¸ªå‡½æ•°é‡Œé¢çš„ä¸œè¥¿ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 def __init__(self, N: int = None, maximum_frequency: int = None, fibergroup: Group = None): r""" Describes rotation symmetries of the plane :math:`\\R^2`.'><title>e2cnn å†…å®¹ç†è§£ - ç¾¤çš„åˆ›å»ºæºç è¯¦è§£ </title><link rel=canonical href=https://runqizhao.cn/p/e2cnn-%E5%86%85%E5%AE%B9%E7%90%86%E8%A7%A3-%E7%BE%A4%E7%9A%84%E5%88%9B%E5%BB%BA%E6%BA%90%E7%A0%81%E8%AF%A6%E8%A7%A3/><link rel=stylesheet href=/scss/style.min.8e60baf4cd3fc55968717a6e39762f4d28ed7ef6007566b6c7970ad0fe907198.css><meta property='og:title' content="e2cnn å†…å®¹ç†è§£ - ç¾¤çš„åˆ›å»ºæºç è¯¦è§£ "><meta property='og:description' content='# åˆ›å»º å¾ªç¯ç¾¤ è¿™é‡Œçš„è¯è€ƒè™‘çš„æ˜¯ç®€å•æƒ…å†µï¼Œä½¿ç”¨å¯¹åº”çš„å¾ªç¯ç¾¤ã€‚å¯¹åº”çš„æ–¹æ³•å¦‚ä¸‹ï¼š 1 2 N = 8 gspace = gspaces.Rot2dOnR2(N=N) ç„¶åçœ‹è¿™ä¸ªå‡½æ•°é‡Œé¢çš„ä¸œè¥¿ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 def __init__(self, N: int = None, maximum_frequency: int = None, fibergroup: Group = None): r""" Describes rotation symmetries of the plane :math:`\\R^2`.'><meta property='og:url' content='https://runqizhao.cn/p/e2cnn-%E5%86%85%E5%AE%B9%E7%90%86%E8%A7%A3-%E7%BE%A4%E7%9A%84%E5%88%9B%E5%BB%BA%E6%BA%90%E7%A0%81%E8%AF%A6%E8%A7%A3/'><meta property='og:site_name' content='Runqi Blog'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='æœºå™¨å­¦ä¹ '><meta property='article:tag' content='æºç é˜…è¯»'><meta property='article:tag' content='ç¾¤è®º'><meta property='article:published_time' content='2023-12-02T16:55:17+08:00'><meta property='article:modified_time' content='2023-12-02T16:55:17+08:00'><meta name=twitter:title content="e2cnn å†…å®¹ç†è§£ - ç¾¤çš„åˆ›å»ºæºç è¯¦è§£ "><meta name=twitter:description content='# åˆ›å»º å¾ªç¯ç¾¤ è¿™é‡Œçš„è¯è€ƒè™‘çš„æ˜¯ç®€å•æƒ…å†µï¼Œä½¿ç”¨å¯¹åº”çš„å¾ªç¯ç¾¤ã€‚å¯¹åº”çš„æ–¹æ³•å¦‚ä¸‹ï¼š 1 2 N = 8 gspace = gspaces.Rot2dOnR2(N=N) ç„¶åçœ‹è¿™ä¸ªå‡½æ•°é‡Œé¢çš„ä¸œè¥¿ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 def __init__(self, N: int = None, maximum_frequency: int = None, fibergroup: Group = None): r""" Describes rotation symmetries of the plane :math:`\\R^2`.'><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu9b4ee4aab7d2c9a136b427e2430a0345_27821_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Runqi Blog</a></h1><h2 class=site-description>Stay foolish stay hungry</h2></div></header><ol class=menu-social><li><a href=https://github.com/runqi-zhao target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#åˆ›å»º-å¾ªç¯ç¾¤>åˆ›å»º å¾ªç¯ç¾¤</a></li><li><a href=#æ€»ç»“>æ€»ç»“</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/>æœºå™¨å­¦ä¹ </a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/e2cnn-%E5%86%85%E5%AE%B9%E7%90%86%E8%A7%A3-%E7%BE%A4%E7%9A%84%E5%88%9B%E5%BB%BA%E6%BA%90%E7%A0%81%E8%AF%A6%E8%A7%A3/>e2cnn å†…å®¹ç†è§£ - ç¾¤çš„åˆ›å»ºæºç è¯¦è§£</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Dec 02, 2023</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>18 minute read</time></div></footer></div></header><section class=article-content><h2 id=åˆ›å»º-å¾ªç¯ç¾¤><a href=#%e5%88%9b%e5%bb%ba-%e5%be%aa%e7%8e%af%e7%be%a4>#</a>
åˆ›å»º å¾ªç¯ç¾¤</h2><p>è¿™é‡Œçš„è¯è€ƒè™‘çš„æ˜¯ç®€å•æƒ…å†µï¼Œä½¿ç”¨å¯¹åº”çš„å¾ªç¯ç¾¤ã€‚å¯¹åº”çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>N</span> <span class=o>=</span> <span class=mi>8</span>
</span></span><span class=line><span class=cl><span class=n>gspace</span> <span class=o>=</span> <span class=n>gspaces</span><span class=o>.</span><span class=n>Rot2dOnR2</span><span class=p>(</span><span class=n>N</span><span class=o>=</span><span class=n>N</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>ç„¶åçœ‹è¿™ä¸ªå‡½æ•°é‡Œé¢çš„ä¸œè¥¿ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>N</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>maximum_frequency</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>fibergroup</span><span class=p>:</span> <span class=n>Group</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=sa>r</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>        Describes rotation symmetries of the plane :math:`\R^2`.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>        If ``N &gt; 1``, the class models *discrete* rotations by angles which are multiple of :math:`\frac{2\pi}</span><span class=si>{N}</span><span class=s2>`
</span></span></span><span class=line><span class=cl><span class=s2>        (:class:`~e2cnn.group.CyclicGroup`).
</span></span></span><span class=line><span class=cl><span class=s2>        Otherwise, if ``N=-1``, the class models *continuous* planar rotations (:class:`~e2cnn.group.SO2`).
</span></span></span><span class=line><span class=cl><span class=s2>        In that case the parameter ``maximum_frequency`` is required to specify the maximum frequency of the irreps of
</span></span></span><span class=line><span class=cl><span class=s2>        :class:`~e2cnn.group.SO2` (see its documentation for more details)
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>        Args:
</span></span></span><span class=line><span class=cl><span class=s2>            N (int): number of discrete rotations (integer greater than 1) or ``-1`` for continuous rotations
</span></span></span><span class=line><span class=cl><span class=s2>            maximum_frequency (int): maximum frequency of :class:`~e2cnn.group.SO2`&#39;s irreps if ``N = -1``
</span></span></span><span class=line><span class=cl><span class=s2>            fibergroup (Group, optional): use an already existing instance of the symmetry group.
</span></span></span><span class=line><span class=cl><span class=s2>                   In that case, the other parameters should not be provided.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>assert</span> <span class=n>N</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>or</span> <span class=n>fibergroup</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>&#34;Error! Either use the parameter `N` or the parameter `group`!&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>fibergroup</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>fibergroup</span><span class=p>,</span> <span class=n>CyclicGroup</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>fibergroup</span><span class=p>,</span> <span class=n>SO2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>assert</span> <span class=n>maximum_frequency</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>&#34;Maximum Frequency can&#39;t be set when the group is already provided in input&#34;</span>
</span></span><span class=line><span class=cl>            <span class=n>N</span> <span class=o>=</span> <span class=n>fibergroup</span><span class=o>.</span><span class=n>order</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>N</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>N</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>assert</span> <span class=n>maximum_frequency</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>&#34;Maximum Frequency can&#39;t be set for finite cyclic groups&#34;</span>
</span></span><span class=line><span class=cl>            <span class=n>name</span> <span class=o>=</span> <span class=s1>&#39;</span><span class=si>{}</span><span class=s1>-Rotations&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>N</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>N</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>name</span> <span class=o>=</span> <span class=s1>&#39;Continuous-Rotations&#39;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Error! &#34;N&#34; has to be an integer greater than 1 or -1, but got </span><span class=si>{</span><span class=n>N</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>fibergroup</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>N</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>fibergroup</span> <span class=o>=</span> <span class=n>cyclic_group</span><span class=p>(</span><span class=n>N</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>elif</span> <span class=n>N</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>fibergroup</span> <span class=o>=</span> <span class=n>so2_group</span><span class=p>(</span><span class=n>maximum_frequency</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>(</span><span class=n>Rot2dOnR2</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>fibergroup</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸ªæ³¨é‡Šé‡Œé¢æè¿°çš„æ˜¯ï¼šæè¿°å¹³é¢$R^2$çš„æ—‹è½¬å¯¹ç§°æ€§ã€‚ç„¶åï¼Œå’±ä»¬ä¸€å¥ä¸€å¥çœ‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>assert</span> <span class=n>N</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>or</span> <span class=n>fibergroup</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>&#34;Error! Either use the parameter `N` or the parameter `group`!&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™æ®µä»£ç è¦æ±‚åœ¨ä½¿ç”¨è¿™æ®µä»£ç æ‰€åœ¨çš„å‡½æ•°æˆ–ç¨‹åºæ—¶ï¼Œè¦ä¹ˆæä¾›å˜é‡ <code>N</code> çš„å€¼ï¼Œè¦ä¹ˆæä¾›å˜é‡ <code>fibergroup</code> çš„å€¼ã€‚å¦‚æœä¸¤è€…éƒ½æ²¡æœ‰æä¾›ä¸€ä¸ªéç©ºçš„å€¼ï¼Œå°±ä¼šè§¦å‘æ–­è¨€é”™è¯¯ï¼Œä»¥é˜²æ­¢ç¨‹åºè¿›ä¸€æ­¥æ‰§è¡Œä¸‹å»ã€‚</p><p>æ¥ç€çœ‹ä¸‹é¢è¿™æ®µè¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl> <span class=k>if</span> <span class=n>fibergroup</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>fibergroup</span><span class=p>,</span> <span class=n>CyclicGroup</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>fibergroup</span><span class=p>,</span> <span class=n>SO2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>assert</span> <span class=n>maximum_frequency</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>&#34;Maximum Frequency can&#39;t be set when the group is already provided in input&#34;</span>
</span></span><span class=line><span class=cl>            <span class=n>N</span> <span class=o>=</span> <span class=n>fibergroup</span><span class=o>.</span><span class=n>order</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>        <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>N</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><code>assert isinstance(fibergroup, CyclicGroup) or isinstance(fibergroup, SO2)</code>ï¼šè¿™æ˜¯ä¸€ä¸ªæ–­è¨€è¯­å¥ï¼Œç”¨äºæ£€æŸ¥ <code>fibergroup</code> æ˜¯å¦æ˜¯ <code>CyclicGroup</code> ç±»å‹æˆ–è€… <code>SO2</code> ç±»å‹çš„å®ä¾‹ã€‚å¦‚æœ <code>fibergroup</code> ä¸æ˜¯è¿™ä¸¤ç§ç±»å‹çš„å®ä¾‹ï¼Œåˆ™ä¼šå¼•å‘ä¸€ä¸ªæ–­è¨€é”™è¯¯ã€‚</p><p><code>N = fibergroup.order()</code>ï¼šå¦‚æœä¹‹å‰çš„æ¡ä»¶æ£€æŸ¥é€šè¿‡ï¼ˆå³ <code>fibergroup</code> ä¸æ˜¯ <code>None</code> å¹¶ä¸”æ˜¯ <code>CyclicGroup</code> æˆ– <code>SO2</code> çš„å®ä¾‹ï¼‰ï¼Œåˆ™è®¡ç®— <code>N</code> çš„å€¼ä¸º <code>fibergroup</code> çš„é˜¶æ•°ï¼ˆorderï¼‰ã€‚</p><p>ä¸Šé¢å‡ å¥ï¼Œå…¶å®ä¸€èˆ¬ä¸ä¼šç”¨åˆ°ï¼Œçœ‹ä¸‹é¢è¯­å¥ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=n>N</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=n>maximum_frequency</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>&#34;Maximum Frequency can&#39;t be set for finite cyclic groups&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span> <span class=o>=</span> <span class=s1>&#39;</span><span class=si>{}</span><span class=s1>-Rotations&#39;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>N</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=n>N</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span> <span class=o>=</span> <span class=s1>&#39;Continuous-Rotations&#39;</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;Error! &#34;N&#34; has to be an integer greater than 1 or -1, but got </span><span class=si>{</span><span class=n>N</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>ç„¶åçœ‹ä¸‹é¢è¿™äº›è¯­å¥ï¼Œè¿™é‡Œçš„è¯å°±æ˜¯æ ¹æ®ä½ è¾“å…¥å‚æ•°çš„ç»™ä¸åŒçš„ç¾¤å‘½ä»¤ï¼Œæ¯”å¦‚ç°åœ¨ æˆ‘ä»¬è¾“å…¥$N=8$ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™åå­—å°±æ˜¯<code>8-Rotations</code>ã€‚ä»£è¡¨ 8 ä¸ªå¾ªç¯ç¾¤è½®æ¢ã€‚</p><p>ç„¶åçœ‹ä¸‹é¢ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=n>fibergroup</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>N</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>fibergroup</span> <span class=o>=</span> <span class=n>cyclic_group</span><span class=p>(</span><span class=n>N</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=n>N</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>fibergroup</span> <span class=o>=</span> <span class=n>so2_group</span><span class=p>(</span><span class=n>maximum_frequency</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™é‡Œçš„è¯æˆ‘ä»¬å…ˆè¯´æ˜å¯¹åº”å¾ªç¯ç¾¤ï¼Œå³çœ‹<code>cyclic_group</code>è¿™ä¸ªå‡½æ•°ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>cyclic_group</span><span class=p>(</span><span class=n>N</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Builds a cyclic group :math:`C_N`of order ``N``, i.e. the group of ``N`` discrete planar rotations.
</span></span></span><span class=line><span class=cl><span class=s2>    
</span></span></span><span class=line><span class=cl><span class=s2>    You should use this factory function to build an instance of :class:`e2cnn.group.CyclicGroup`.
</span></span></span><span class=line><span class=cl><span class=s2>    Only one instance is built and, in case of multiple calls to this function, the same instance is returned.
</span></span></span><span class=line><span class=cl><span class=s2>    In case of multiple calls of this function with different parameters or in case new representations are built
</span></span></span><span class=line><span class=cl><span class=s2>    (eg. through the method :meth:`~e2cnn.group.Group.quotient_representation`), this unique instance is updated with
</span></span></span><span class=line><span class=cl><span class=s2>    the new representations and, therefore, all its references will see the new representations.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        N (int): number of discrete rotations in the group
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        the cyclic group of order ``N``
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>CyclicGroup</span><span class=o>.</span><span class=n>_generator</span><span class=p>(</span><span class=n>N</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸ªçš„è¯å°±æ˜¯æ„å»ºç»“æŸä¸º<code>N</code>çš„å¾ªç¯ç¾¤ $C_{N}$ã€‚ç„¶åï¼Œæˆ‘ä»¬ è·³è¿›å»è¿™ä¸ªå‡½æ•°é‡Œé¢çœ‹çœ‹å¯¹åº”çš„ç»†èŠ‚ã€‚<strong>æ³¨æ„ï¼Œé‡Œé¢çš„å†…å®¹æ˜¯å¯¹åº”çš„æ ¸å¿ƒ</strong>ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>_generator</span><span class=p>(</span><span class=n>N</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s1>&#39;CyclicGroup&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>global</span> <span class=n>_cached_group_instances</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>N</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>_cached_group_instances</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>_cached_group_instances</span><span class=p>[</span><span class=n>N</span><span class=p>]</span> <span class=o>=</span> <span class=n>CyclicGroup</span><span class=p>(</span><span class=n>N</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>_cached_group_instances</span><span class=p>[</span><span class=n>N</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ªå‡½æ•° <code>_generator</code>ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ•´æ•° <code>N</code> ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª <code>CyclicGroup</code> å¯¹è±¡ã€‚å‡½æ•°ä½¿ç”¨äº†ä¸€ä¸ªå…¨å±€å˜é‡ <code>_cached_group_instances</code>ï¼Œè¯¥å˜é‡å¯èƒ½ç”¨äºå­˜å‚¨å·²ç»åˆ›å»ºè¿‡çš„ <code>CyclicGroup</code> å®ä¾‹ã€‚</p><p>ç„¶åï¼Œç°å¦‚ä½•è¯´æ²¡æœ‰åˆ›å»ºå¯¹åº”çš„å¾ªç¯ç¾¤ï¼Œè¿™ä¸ªæ—¶å€™ éœ€è¦è°ƒç”¨<code>CyclicGroup</code>çš„åˆå§‹åŒ–ï¼Œä¸‹é¢çœ‹è¿™ä¸ªå‡½æ•°ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl> <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>N</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=sa>r</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        Build an instance of the cyclic group :math:`C_N` which contains :math:`N` discrete planar rotations.
</span></span></span><span class=line><span class=cl><span class=s2>        
</span></span></span><span class=line><span class=cl><span class=s2>        The group elements are :math:`\{e, r, r^2, r^3, \dots, r^{N-1}\}`, with group law
</span></span></span><span class=line><span class=cl><span class=s2>        :math:`r^a \cdot r^b = r^{\ a + b \!\! \mod \!\! N \ }`.
</span></span></span><span class=line><span class=cl><span class=s2>        The cyclic group :math:`C_N` is isomorphic to the integers *modulo* ``N``.
</span></span></span><span class=line><span class=cl><span class=s2>        For this reason, elements are stored as the integers between :math:`0` and :math:`N-1`, where the :math:`k`-th
</span></span></span><span class=line><span class=cl><span class=s2>        element can also be interpreted as the discrete rotation by :math:`k\frac{2\pi}</span><span class=si>{N}</span><span class=s2>`.
</span></span></span><span class=line><span class=cl><span class=s2>        
</span></span></span><span class=line><span class=cl><span class=s2>        Args:
</span></span></span><span class=line><span class=cl><span class=s2>            N (int): order of the group
</span></span></span><span class=line><span class=cl><span class=s2>            
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=k>assert</span> <span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>N</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span> <span class=ow>and</span> <span class=n>N</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>(</span><span class=n>CyclicGroup</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=s2>&#34;C</span><span class=si>%d</span><span class=s2>&#34;</span> <span class=o>%</span> <span class=n>N</span><span class=p>,</span> <span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>elements</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=n>N</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>elements_names</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;e&#39;</span><span class=p>]</span> <span class=o>+</span> <span class=p>[</span><span class=s1>&#39;r</span><span class=si>%d</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>N</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>identity</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_build_representations</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸ªå‡½æ•°å°±æ˜¯æ„å»ºåŒ…å«$N$ç¦»æ•£å¹³é¢æ—‹è½¬çš„å¾ªç¯ç¾¤$C_{N}$çš„å®ä¾‹ã€‚</p><p><code>def __init__(self, N: int):</code>ï¼šè¿™æ˜¯ Python ç±»çš„æ„é€ å‡½æ•°ï¼ˆinitializerï¼‰ï¼Œç”¨äºåˆ›å»º <code>CyclicGroup</code> ç±»çš„å®ä¾‹ã€‚å®ƒæ¥å—ä¸€ä¸ªæ•´æ•° <code>N</code> ä½œä¸ºå‚æ•°ï¼Œä»£è¡¨å¾ªç¯ç¾¤çš„é˜¶æˆ–å…ƒç´ çš„æ•°é‡ã€‚</p><p><code>assert (isinstance(N, int) and N > 0)</code>ï¼šè¿™æ˜¯ä¸€ä¸ªæ–­è¨€è¯­å¥ï¼Œç”¨äºç¡®ä¿è¾“å…¥çš„ <code>N</code> æ˜¯æ­£æ•´æ•°ã€‚å¦‚æœ <code>N</code> ä¸æ˜¯æ•´æ•°æˆ–è€…å°äºç­‰äºé›¶ï¼Œå°†ä¼šè§¦å‘ AssertionErrorã€‚è¿™é‡Œçš„è¯æ˜¯å› ä¸ºå½“å°äº 0 çš„æ—¶å€™ï¼Œæˆ‘ä»¬åˆ›å»ºçš„æ˜¯ç¦»æ•£ç¾¤ï¼Œè¿™ä¸ªæ—¶å€™åº”è¯¥</p><p><code>super(CyclicGroup, self).__init__("C%d" % N, False, True)</code>ï¼šè¿™è¡Œä»£ç è°ƒç”¨äº† <code>super()</code> å‡½æ•°æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚å®ƒå°†åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>CyclicGroup</code> ç±»çš„å®ä¾‹ï¼Œå¹¶å°†ç¾¤çš„åç§°è®¾ç½®ä¸ºå­—ç¬¦ä¸²å½¢å¼çš„ <code>C</code> åè·Ÿé˜¶æ•° <code>N</code>ã€‚</p><p><code>self.elements = list(range(N))</code>ï¼šåˆ›å»ºäº†ä¸€ä¸ªå­˜å‚¨ç¾¤å…ƒç´ çš„åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯ä» <code>0</code> åˆ° <code>N-1</code> çš„æ•´æ•°ï¼Œä»£è¡¨å¾ªç¯ç¾¤ä¸­çš„å…ƒç´ ã€‚<strong>æ³¨æ„ï¼Œè¿™ä¸ªå‚æ•°å¾ˆé‡è¦ï¼Œå°±æ˜¯å› ä¸ºæœ‰äº†è¿™ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬æ‰èƒ½è¯´ä½¿ç”¨å…ˆç¼“ç¼“åˆ›å»ºå¯¹åº”çš„å¾ªç¯ç¾¤</strong>ã€‚ç°åœ¨æˆ‘ä»¬<code>N=8</code>ï¼Œè¿™ä¸ªæ—¶å€™ elements æ˜¯<code>[0,1,2,3,4,5,6,7]</code></p><p><code>self.elements_names = ['e'] + ['r%d' % i for i in range(1, N)]</code>ï¼šåˆ›å»ºäº†ä¸€ä¸ªåŒ…å«ç¾¤å…ƒç´ åç§°çš„åˆ—è¡¨ã€‚ç¾¤å…ƒç´ åå­—ä¸­ <code>e</code> ä»£è¡¨ç¾¤çš„å•ä½å…ƒç´ ï¼Œå…¶ä»–çš„å…ƒç´ ç”¨ <code>r1</code>, <code>r2</code>, &mldr;, <code>rN-1</code> è¡¨ç¤ºã€‚ç°åœ¨<code>N=8</code>ï¼Œ<code>elements_name</code>å°±æ˜¯<code>['e', 'r1', 'r2', 'r3', 'r4', 'r5', 'r6', 'r7']</code>ã€‚</p><p><code>self.identity = 0</code>ï¼šå°†ç¾¤çš„å•ä½å…ƒç´ ï¼ˆæ ‡è¯†ä¸º <code>e</code>ï¼‰çš„ç´¢å¼•è®¾ä¸º <code>0</code>ã€‚</p><p><code>self._build_representations()</code>ï¼šè°ƒç”¨äº†ä¸€ä¸ªåä¸º <code>_build_representations()</code> çš„æ–¹æ³•ã€‚ä¸‹é¢çœ‹çœ‹è¿™ä¸ªæ–¹æ³•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl> <span class=k>def</span> <span class=nf>_build_representations</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    Build the irreps and the regular representation for this group
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>N</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>order</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Build all the Irreducible Representations</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>int</span><span class=p>(</span><span class=n>N</span> <span class=o>//</span> <span class=mi>2</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>irrep</span><span class=p>(</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Build all Representations</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># add all the irreps to the set of representations already built for this group</span>
</span></span><span class=line><span class=cl>    <span class=bp>self</span><span class=o>.</span><span class=n>representations</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=o>**</span><span class=bp>self</span><span class=o>.</span><span class=n>irreps</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># build the regular representation</span>
</span></span><span class=line><span class=cl>    <span class=bp>self</span><span class=o>.</span><span class=n>representations</span><span class=p>[</span><span class=s1>&#39;regular&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>regular_representation</span>
</span></span><span class=line><span class=cl>    <span class=bp>self</span><span class=o>.</span><span class=n>representations</span><span class=p>[</span><span class=s1>&#39;regular&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>supported_nonlinearities</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s1>&#39;vectorfield&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>å…ˆçœ‹å¯¹åº”çš„ ç¬¬ä¸€å¥ï¼Œè°ƒç”¨çš„æ˜¯ order å‡½æ•°ï¼Œå¯¹åº”çš„å‡½æ•°å¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl> <span class=k>def</span> <span class=nf>order</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    Returns the number of elements in this group if it is a finite group, otherwise -1 is returned
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        the size of the group or ``-1`` if it is a continuous group
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>elements</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>elements</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>
</span></span></code></pre></td></tr></table></div></div><p>ç°åœ¨å’±ä»¬å…ƒç´ ä¸ä¸º 0ï¼Œè¿™ä¸ªæ—¶å€™è¿”å›çš„å°±æ˜¯ elements æ•°ç»„çš„é•¿åº¦ï¼Œå³è¿”å› 8ã€‚ç„¶åå†çœ‹ä¸‹é¢çš„è¯­å¥ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Build all the Irreducible Representations</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>int</span><span class=p>(</span><span class=n>N</span> <span class=o>//</span> <span class=mi>2</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=bp>self</span><span class=o>.</span><span class=n>irrep</span><span class=p>(</span><span class=n>k</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><code>for k in range(0, int(N // 2) + 1):</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå¾ªç¯ç»“æ„ï¼Œç”¨äºè¿­ä»£åœ°æ„å»ºå¾ªç¯ç¾¤çš„ä¸å¯çº¦è¡¨ç¤ºã€‚<code>range(0, int(N // 2) + 1)</code> ç”¨æ¥ç”Ÿæˆä» <code>0</code> åˆ° <code>N // 2</code> çš„æ•´æ•°åºåˆ—ï¼ŒåŒ…æ‹¬ <code>N // 2</code>ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œè°ƒç”¨ <code>self.irrep(k)</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¯èƒ½ç”¨æ¥ç”Ÿæˆå’Œå­˜å‚¨å¾ªç¯ç¾¤çš„ä¸å¯çº¦è¡¨ç¤ºã€‚</p><p>æ³¨æ„ï¼Œæˆ‘ä¹ˆè¦æ—¶åˆ»è®°ä½æˆ‘ä»¬æ˜¯åœ¨ä¸€ä¸ªå¾ªç¯ä¸­è¿›æ¥äº†è¿™é‡Œï¼Œå› æ­¤ï¼Œè¿™é‡Œå…¶å®ä¼šè°ƒç”¨å››æ¬¡ã€‚</p><p><strong>ä½†æ˜¯ï¼Œåœ¨åç»­çš„ä»£ç è°ƒè¯•ä¸­ï¼Œå…¶å®è¿™éƒ¨åˆ†è™½ç„¶æ˜¯è¿›å»äº†ï¼Œä½†æ˜¯é‡Œé¢çš„å‡½æ•°éƒ½æ²¡æœ‰è¿è¡Œï¼Œè¿™æ˜¯å› ä¸º lamda è¡¨è¾¾å¼çš„ç‰¹æ€§ï¼šlambda å‡½æ•°å°†åœ¨ä¹‹åè¢«è°ƒç”¨æˆ–ä½¿ç”¨æ—¶æ‰§è¡Œã€‚åªæœ‰åœ¨ä½ å®é™…è°ƒç”¨ <code>irrep</code> å˜é‡ä½œä¸ºå‡½æ•°ï¼Œå¹¶ä¼ é€’å‚æ•° <code>element</code> å’Œå¯èƒ½çš„å…¶ä»–å‚æ•°æ—¶ï¼Œlambda å‡½æ•°å†…éƒ¨çš„ä»£ç æ‰ä¼šæ‰§è¡Œã€‚å¯ä»¥çœ‹ä¸‹å›¾ï¼š</strong></p><p><img src=https://img-1312072469.cos.ap-nanjing.myqcloud.com/image-20231203093702515.png loading=lazy alt=image-20231203093702515></p><p>å…¶ä¸­çš„ç­‰åˆ°<code>build_representations,cyclicgroup.py:221</code>è¿™ä¸€è¡Œçš„æ—¶å€™æ‰èƒ½è¿›è¡Œæ‰ä¼šå¼€å§‹è°ƒç”¨ï¼Œç›¸å½“äºå‡½æ•°ä¸­çš„è¿™ä¸€å¥ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=bp>self</span><span class=o>.</span><span class=n>representations</span><span class=p>[</span><span class=s1>&#39;regular&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>regular_representation</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™é‡Œé¢ä¼šä½¿ç”¨åˆ° irrep å˜é‡ï¼Œè¿™ä¸ªæ—¶å€™æ‰ä¼šæ‰§è¡Œå¯¹åº”å‡½æ•°ï¼Œæˆ‘ä»¬å…ˆè¯´æ˜è¿™ä¸ªå‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå‡ºç°çš„å˜é‡éœ€è¦é›†åˆåç»­æ­¥éª¤æ‰èƒ½è§£é‡Šæ˜ç™½ã€‚</p><p>ç„¶åï¼Œå…³äºç¾¤çš„ ä¸å¯çº¦è¡¨ç¤ºå¯ä»¥ç†è§£æˆï¼šç¾¤çš„ä¸€ä¸ªè¡¨ç¤ºï¼Œå¦‚æœå®ƒçš„æ‰€æœ‰çŸ©é˜µå¯ä»¥å€ŸåŠ©äºæŸä¸€ä¸ªç›¸ä¼¼å˜æ¢å˜
æˆç›¸åŒå½¢å¼çš„å¯¹è§’æ–¹å—åŒ–çŸ©é˜µï¼Œåˆ™æ­¤è¡¨ç¤ºæ˜¯å¯çº¦çš„ï¼Œå¦åˆ™æ˜¯ä¸å¯çº¦çš„ã€‚</p><p>okï¼Œä¸‹é¢æˆ‘ä»¬å…ˆçœ‹<code>irrep</code>è¿™éƒ¨åˆ†çš„ä»£ç ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>  <span class=k>def</span> <span class=nf>irrep</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>k</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>IrreducibleRepresentation</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=sa>r</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>Build the irrep of frequency ``k`` of the current cyclic group.
</span></span></span><span class=line><span class=cl><span class=s2>The frequency has to be a non-negative integer in :math:`\{0, \dots, \left \lfloor N/2 \right \rfloor \}`,
</span></span></span><span class=line><span class=cl><span class=s2>where :math:`N` is the order of the group.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>Args:
</span></span></span><span class=line><span class=cl><span class=s2>    k (int): the frequency of the representation
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>Returns:
</span></span></span><span class=line><span class=cl><span class=s2>    the corresponding irrep
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=k>assert</span> <span class=mi>0</span> <span class=o>&lt;=</span> <span class=n>k</span> <span class=o>&lt;=</span> <span class=bp>self</span><span class=o>.</span><span class=n>order</span><span class=p>()</span><span class=o>//</span><span class=mi>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;irrep_</span><span class=si>{</span><span class=n>k</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>irreps</span><span class=p>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>n</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>order</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>base_angle</span> <span class=o>=</span> <span class=mf>2.0</span> <span class=o>*</span> <span class=n>np</span><span class=o>.</span><span class=n>pi</span> <span class=o>/</span> <span class=n>n</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>k</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># Trivial representation</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>irrep</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>element</span><span class=p>,</span> <span class=n>identity</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>eye</span><span class=p>(</span><span class=mi>1</span><span class=p>):</span> <span class=n>identity</span>
</span></span><span class=line><span class=cl>        <span class=n>character</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>e</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=n>supported_nonlinearities</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;pointwise&#39;</span><span class=p>,</span> <span class=s1>&#39;gate&#39;</span><span class=p>,</span> <span class=s1>&#39;norm&#39;</span><span class=p>,</span> <span class=s1>&#39;gated&#39;</span><span class=p>,</span> <span class=s1>&#39;concatenated&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>irreps</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>IrreducibleRepresentation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>irrep</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                      <span class=n>supported_nonlinearities</span><span class=o>=</span><span class=n>supported_nonlinearities</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                      <span class=c1># character=character,</span>
</span></span><span class=line><span class=cl>                                                      <span class=c1># trivial=True,</span>
</span></span><span class=line><span class=cl>                                                      <span class=n>frequency</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=n>n</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>k</span> <span class=o>==</span> <span class=nb>int</span><span class=p>(</span><span class=n>n</span><span class=o>/</span><span class=mi>2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1># 1 dimensional Irreducible representation (only for even order groups)</span>
</span></span><span class=line><span class=cl>        <span class=n>irrep</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>element</span><span class=p>,</span> <span class=n>k</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>base_angle</span><span class=o>=</span><span class=n>base_angle</span><span class=p>:</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=n>np</span><span class=o>.</span><span class=n>cos</span><span class=p>(</span><span class=n>k</span> <span class=o>*</span> <span class=n>element</span> <span class=o>*</span> <span class=n>base_angle</span><span class=p>)]])</span>
</span></span><span class=line><span class=cl>        <span class=n>supported_nonlinearities</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;norm&#39;</span><span class=p>,</span> <span class=s1>&#39;gated&#39;</span><span class=p>,</span> <span class=s1>&#39;concatenated&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>irreps</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>IrreducibleRepresentation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>irrep</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                      <span class=n>supported_nonlinearities</span><span class=o>=</span><span class=n>supported_nonlinearities</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                      <span class=n>frequency</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 2 dimensional Irreducible Representations</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># build the rotation matrix with rotation frequency &#39;frequency&#39;</span>
</span></span><span class=line><span class=cl>        <span class=n>irrep</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>element</span><span class=p>,</span> <span class=n>k</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>base_angle</span><span class=o>=</span><span class=n>base_angle</span><span class=p>:</span> <span class=n>utils</span><span class=o>.</span><span class=n>psi</span><span class=p>(</span><span class=n>element</span> <span class=o>*</span> <span class=n>base_angle</span><span class=p>,</span> <span class=n>k</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>supported_nonlinearities</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;norm&#39;</span><span class=p>,</span> <span class=s1>&#39;gated&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>irreps</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>IrreducibleRepresentation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>irrep</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                      <span class=n>supported_nonlinearities</span><span class=o>=</span><span class=n>supported_nonlinearities</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                      <span class=n>frequency</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>irreps</span><span class=p>[</span><span class=n>name</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸ª<code>irrrp</code>å¯¹åº”çš„ä»£ç ï¼Œé€šè¿‡ä»£ç çš„æ³¨é‡Šï¼Œå¯ä»¥çŸ¥é“ï¼Œæ˜¯å»ºç«‹å½“å‰å¾ªç¯ç¾¤é¢‘ç‡ä¸º <code>k</code> çš„æ¬¡å¾ªç¯ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è·³è¿›æ¥ï¼Œçœ‹å¯¹åº” çš„å†…å®¹ã€‚</p><p><code>assert 0 &lt;= k &lt;= self.order()//2</code>ï¼šé¦–å…ˆçš„è¯è¿˜æ˜¯è€è§„çŸ©ï¼Œè¿™ä¸ªçš„è¯æ–­è¨€åˆ¤æ–­ï¼Œå¯ä»¥åˆ†æˆä¸¤éƒ¨åˆ†è¿›è¡ŒæŸ¥çœ‹ï¼š</p><ol><li><code>0 &lt;= k</code>ï¼šç¡®ä¿é¢‘ç‡ <code>k</code> æ˜¯éè´Ÿæ•´æ•°ï¼Œå› ä¸ºé¢‘ç‡é€šå¸¸æ˜¯ä¸€ä¸ªéè´Ÿçš„æ•´æ•°ã€‚åœ¨è¿™é‡Œï¼Œé¢‘ç‡è¡¨ç¤ºä¸å¯çº¦è¡¨ç¤ºçš„ç‰¹å®šç‰¹å¾ï¼Œå› æ­¤å¿…é¡»ä¸ºéè´Ÿæ•´æ•°ã€‚</li><li><code>k &lt;= self.order()//2</code>ï¼šä¿è¯é¢‘ç‡ <code>k</code> ä¸è¶…è¿‡å¾ªç¯ç¾¤çš„é˜¶æ•° <code>N</code> çš„ä¸€åŠã€‚åœ¨æ•°å­¦ä¸Šï¼Œå¯¹äºå¾ªç¯ç¾¤çš„ä¸å¯çº¦è¡¨ç¤ºï¼Œé¢‘ç‡ <code>k</code> çš„èŒƒå›´é€šå¸¸è¢«é™åˆ¶åœ¨ <code>0</code> åˆ° <code>N/2</code> ä¹‹é—´ï¼Œå› æ­¤è¿™ä¸ªæ–­è¨€ç¡®ä¿äº†é¢‘ç‡ <code>k</code> ä¸ä¼šè¶…å‡ºæœ‰æ•ˆèŒƒå›´ã€‚</li></ol><p><img src=https://img-1312072469.cos.ap-nanjing.myqcloud.com/20231203223205.png loading=lazy></p><p>å½“ç„¶ï¼Œ<strong>ç¬¬äºŒä¸ªæ­£ç¡®æ€§æœ‰å¾…è€ƒç©¶ï¼ï¼ï¼</strong></p><p><code>name = f"irrep_{k}"</code>ï¼šæ„å»ºè¡¨ç¤ºçš„åç§°ï¼Œç”¨äºå­˜å‚¨åœ¨ <code>self.irreps</code> å­—å…¸ä¸­ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=n>name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>irreps</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>n</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>order</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>base_angle</span> <span class=o>=</span> <span class=mf>2.0</span> <span class=o>*</span> <span class=n>np</span><span class=o>.</span><span class=n>pi</span> <span class=o>/</span> <span class=n>n</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿˜æ˜¯ä¸€æ ·ï¼Œé¦–å…ˆè¯»å–å¯¹åº” ç¾¤å…ƒç´ é˜¶æ•°ï¼Œè¿™ä¸ªå¯ä»¥çœ‹ä¸Šé¢çš„<code>order</code>çš„ ä»‹ç»ï¼Œå¾—åˆ°<code>n=8</code>ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºå¯¹åº”çš„<code>base_angle</code>,è¿™é‡Œçš„è¯ å°±æ˜¯$\frac{2 \pi}{n}$ã€‚ç›¸å½“äºæˆ‘ä»¬ç°åœ¨çš„åŸºæœ¬è§’åº¦æ˜¯ 360/ç¾¤ å…ƒç´ é˜¶æ•°ï¼Œå› ä¸ºå¾ªç¯ç¾¤ä¸­çš„å…ƒç´ æ˜¯å›´ç»•ä¸€ä¸ªåœ†å‘¨å¾ªç¯çš„ï¼Œæ‰€ä»¥ <code>2.0 * np.pi / n</code> è®¡ç®—å‡ºäº†å¾ªç¯ç¾¤ä¸­æ¯ä¸ªå…ƒç´ ä¹‹é—´çš„è§’åº¦é—´éš”ã€‚é€šè¿‡å°†æ•´ä¸ªåœ†å‘¨ï¼ˆ<code>2.0 * np.pi</code>ï¼‰åˆ†æˆå¾ªç¯ç¾¤çš„é˜¶æ•° <code>n</code> ä»½ï¼Œå¯ä»¥å¾—åˆ°æ¯ä¸ªç¾¤å…ƒç´ ä¹‹é—´çš„å¹³å‡è§’åº¦é—´éš”ï¼Œè¿™ä¸ªè§’åº¦é—´éš”åœ¨è¡¨ç¤ºä¸åŒç¾¤å…ƒç´ çš„çº¿æ€§å˜æ¢ä¸­å¾ˆæœ‰ç”¨ã€‚</p><p>åœ¨æ„å»ºå¾ªç¯ç¾¤çš„ä¸å¯çº¦è¡¨ç¤ºæ—¶ï¼Œè¿™ä¸ª <code>base_angle</code> å˜é‡è¢«ç”¨æ¥è®¡ç®—è¡¨ç¤ºçŸ©é˜µä¸­è§’åº¦çš„å˜æ¢ã€‚å…·ä½“åœ°ï¼Œåœ¨ä¸åŒé¢‘ç‡çš„ä¸å¯çº¦è¡¨ç¤ºä¸­ï¼Œå…ƒç´ ä¸ <code>base_angle</code> çš„ä¹˜ç§¯ç”¨æ¥ç¡®å®šå¯¹åº”å…ƒç´ çš„çŸ©é˜µè¡¨ç¤ºã€‚è¿™ç§æ–¹å¼æœ‰æ•ˆåœ°åˆ©ç”¨äº†å¾ªç¯ç¾¤å…ƒç´ ä¹‹é—´çš„è§’åº¦å…³ç³»æ¥æ„å»ºä¸åŒé¢‘ç‡çš„è¡¨ç¤ºã€‚</p><p>ç„¶åï¼Œæ¥ç€çœ‹é¢å¯¹åº”çš„ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl> <span class=k>if</span> <span class=n>k</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># Trivial representation</span>
</span></span><span class=line><span class=cl>    <span class=n>irrep</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>element</span><span class=p>,</span> <span class=n>identity</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>eye</span><span class=p>(</span><span class=mi>1</span><span class=p>):</span> <span class=n>identity</span>
</span></span><span class=line><span class=cl>    <span class=n>character</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>e</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=n>supported_nonlinearities</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;pointwise&#39;</span><span class=p>,</span> <span class=s1>&#39;gate&#39;</span><span class=p>,</span> <span class=s1>&#39;norm&#39;</span><span class=p>,</span> <span class=s1>&#39;gated&#39;</span><span class=p>,</span> <span class=s1>&#39;concatenated&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=bp>self</span><span class=o>.</span><span class=n>irreps</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>IrreducibleRepresentation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>irrep</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                  <span class=n>supported_nonlinearities</span><span class=o>=</span><span class=n>supported_nonlinearities</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                  <span class=c1># character=character,</span>
</span></span><span class=line><span class=cl>                                                  <span class=c1># trivial=True,</span>
</span></span><span class=line><span class=cl>                                                  <span class=n>frequency</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>å½“ <code>k</code> ä¸º 0 æ—¶ï¼Œæ„å»ºäº†ä¸€ä¸ªå¹³å‡¡è¡¨ç¤ºï¼ˆTrivial representationï¼‰ï¼Œå¯¹åº”äºå•ä½çŸ©é˜µã€‚</p><blockquote><p>å¹³å‡¡è¡¨ç¤ºï¼ˆTrivial representationï¼‰æ˜¯ç¾¤è®ºä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯ä¸€ä¸ªç¾¤çš„æ¯ä¸ªå…ƒç´ éƒ½è¢«æ˜ å°„æˆä¸€ä¸ªæ’ç­‰çŸ©é˜µæˆ–å•ä½çŸ©é˜µã€‚å¯¹äºæ¯ä¸ªç¾¤å…ƒç´ ï¼Œè¿™ä¸ªè¡¨ç¤ºéƒ½å°†å…¶æ˜ å°„ä¸ºç›¸åŒçš„å•ä½çŸ©é˜µã€‚</p></blockquote><p>å¦‚æœå¾ªç¯ç¾¤çš„é˜¶æ•° <code>n</code> ä¸ºå¶æ•°ä¸” <code>k</code> ç­‰äº <code>n/2</code>ï¼Œæ„å»ºä¸€ä¸ªä¸€ç»´ä¸å¯çº¦è¡¨ç¤ºã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-Java data-lang=Java><span class=line><span class=cl><span class=n>elif</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=n>2</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=n>and</span><span class=w> </span><span class=n>k</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kt>int</span><span class=p>(</span><span class=n>n</span><span class=o>/</span><span class=n>2</span><span class=p>):</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=err>#</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=n>dimensional</span><span class=w> </span><span class=n>Irreducible</span><span class=w> </span><span class=nf>representation</span><span class=w> </span><span class=p>(</span><span class=n>only</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>even</span><span class=w> </span><span class=n>order</span><span class=w> </span><span class=n>groups</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>irrep</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>lambda</span><span class=w> </span><span class=n>element</span><span class=p>,</span><span class=w> </span><span class=n>k</span><span class=o>=</span><span class=n>k</span><span class=p>,</span><span class=w> </span><span class=n>base_angle</span><span class=o>=</span><span class=n>base_angle</span><span class=p>:</span><span class=w> </span><span class=n>np</span><span class=p>.</span><span class=na>array</span><span class=p>(</span><span class=o>[[</span><span class=n>np</span><span class=p>.</span><span class=na>cos</span><span class=p>(</span><span class=n>k</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>element</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>base_angle</span><span class=p>)</span><span class=o>]]</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>supported_nonlinearities</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=err>&#39;</span><span class=n>norm</span><span class=err>&#39;</span><span class=p>,</span><span class=w> </span><span class=err>&#39;</span><span class=n>gated</span><span class=err>&#39;</span><span class=p>,</span><span class=w> </span><span class=err>&#39;</span><span class=n>concatenated</span><span class=err>&#39;</span><span class=o>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>self</span><span class=p>.</span><span class=na>irreps</span><span class=o>[</span><span class=n>name</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>IrreducibleRepresentation</span><span class=p>(</span><span class=n>self</span><span class=p>,</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=n>irrep</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                                              </span><span class=n>supported_nonlinearities</span><span class=o>=</span><span class=n>supported_nonlinearities</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                                              </span><span class=n>frequency</span><span class=o>=</span><span class=n>k</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>TDOOï¼šè§£é‡Šå¯¹åº”çš„å‚æ•°</p><p>å…¶ä»–æƒ…å†µï¼ˆk=1,2,3ï¼‰éƒ½ä¼šæ¥åˆ°ä¸‹é¢ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># 2 dimensional Irreducible Representations</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># build the rotation matrix with rotation frequency &#39;frequency&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>irrep</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>element</span><span class=p>,</span> <span class=n>k</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>base_angle</span><span class=o>=</span><span class=n>base_angle</span><span class=p>:</span> <span class=n>utils</span><span class=o>.</span><span class=n>psi</span><span class=p>(</span><span class=n>element</span> <span class=o>*</span> <span class=n>base_angle</span><span class=p>,</span> <span class=n>k</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>supported_nonlinearities</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;norm&#39;</span><span class=p>,</span> <span class=s1>&#39;gated&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=bp>self</span><span class=o>.</span><span class=n>irreps</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>IrreducibleRepresentation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>irrep</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                  <span class=n>supported_nonlinearities</span><span class=o>=</span><span class=n>supported_nonlinearities</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                  <span class=n>frequency</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>lambda element, k=k, base_angle=base_angle:</code>ï¼šè¿™å®šä¹‰äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•° <code>element</code>ã€<code>k</code> å’Œä¸€ä¸ªé»˜è®¤å‚æ•° <code>base_angle</code>ã€‚è¿™ä¸ªå‡½æ•°å¯ä»¥æ ¹æ®ä¼ å…¥çš„ <code>element</code> å‚æ•°ä»¥åŠå·²å®šä¹‰çš„ <code>k</code> å’Œ <code>base_angle</code> å‚æ•°æ¥è®¡ç®—ç»“æœã€‚</li><li><code>utils.psi(element * base_angle, k=k)</code>ï¼šè¿™æ˜¯å‡½æ•°çš„è¿”å›è¡¨è¾¾å¼ã€‚å®ƒè°ƒç”¨äº†ä¸€ä¸ªåä¸º <code>utils.psi</code> çš„å‡½æ•°ï¼ˆå‡è®¾ <code>utils</code> æ˜¯ä¸€ä¸ªæ¨¡å—æˆ–å¯¹è±¡çš„åç§°ï¼‰ã€‚æ­¤å‡½æ•°å¯èƒ½ç”¨äºè®¡ç®—ç»™å®šå…ƒç´ ä¹˜ä»¥åŸºç¡€è§’åº¦ï¼ˆ<code>element * base_angle</code>ï¼‰æ‰€å¾—çš„ç»“æœï¼Œç„¶åä»¥åŠç»™å®šçš„é¢‘ç‡ <code>k</code> ä¸ºå‚æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„å…·ä½“æ“ä½œå’Œå®ç°ç”± <code>utils.psi</code> å®šä¹‰ã€‚è¿™ä¸ªå‡½æ•°çš„ç›®çš„æ˜¯è®¡ç®—è¡¨ç¤ºçŸ©é˜µçš„å…ƒç´ ã€‚</li></ul><p>è¿™é‡Œéœ€è¦ç®€å•çœ‹ä¸€çœ¼ psi è¿™ä¸ªå‡½æ•°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>psi</span><span class=p>(</span><span class=n>theta</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span> <span class=n>k</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>gamma</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=mf>0.</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    Rotation matrix corresponding to the angle :math:`k \theta + \gamma`.
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=n>k</span> <span class=o>*</span> <span class=n>theta</span> <span class=o>+</span> <span class=n>gamma</span>
</span></span><span class=line><span class=cl>    <span class=n>c</span><span class=p>,</span> <span class=n>s</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>cos</span><span class=p>(</span><span class=n>x</span><span class=p>),</span> <span class=n>np</span><span class=o>.</span><span class=n>sin</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(([</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=n>c</span><span class=p>,</span> <span class=o>-</span><span class=n>s</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=n>s</span><span class=p>,</span>  <span class=n>c</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=p>]))</span>
</span></span></code></pre></td></tr></table></div></div><p>ç°åœ¨ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨$k = 1, elements= [0,1,2,3,4,5,6,7]$ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¯¹åº”è®¡ç®—ç»“æœåº”è¯¥å‡ºæ¥ 8 ä¸ªã€‚æ‰‹å†™å‡ºæ¥å¯¹åº”çš„ ä¾‹å­ï¼Œå¦‚ä¸‹ï¼š</p><p><img src=https://img-1312072469.cos.ap-nanjing.myqcloud.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20231203094929.jpg loading=lazy alt=å¾®ä¿¡å›¾ç‰‡_20231203094929></p><p><strong>ç„¶åï¼Œåœ¨åé¢ä½¿ç”¨æ—¶å¯¹é‡Œé¢çš„å€¼æœ‰ä¸€ä¸ªæ“ä½œï¼Œè¿™é‡Œçš„è¯è¿˜æœ‰ä¸€ä¸ªç–‘é—®ï¼Œåé¢é‚£å¥è¯ä¸æ˜¯å·²ç»ä½¿ç”¨äº†å˜›ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯è¿™ä¸ªæ—¶å€™è¿›è¡Œåˆå§‹åŒ–ï¼Ÿ</strong> å…ˆçœ‹åé¢ç¨‹åºï¼Œç­‰å›å¤´åœ¨è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>ç„¶åï¼Œæ¥åˆ°æœ€åä¸€ç§æƒ…å†µï¼Œç›¸å½“äºç°åœ¨æ˜¯ n æ˜¯å¶æ•°å¹¶ k=n/2 æ˜¯æ‰ä¼šè¿›å…¥ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>elif</span> <span class=n>n</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>k</span> <span class=o>==</span> <span class=nb>int</span><span class=p>(</span><span class=n>n</span><span class=o>/</span><span class=mi>2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 1 dimensional Irreducible representation (only for even order groups)</span>
</span></span><span class=line><span class=cl>    <span class=n>irrep</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>element</span><span class=p>,</span> <span class=n>k</span><span class=o>=</span><span class=n>k</span><span class=p>,</span> <span class=n>base_angle</span><span class=o>=</span><span class=n>base_angle</span><span class=p>:</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=n>np</span><span class=o>.</span><span class=n>cos</span><span class=p>(</span><span class=n>k</span> <span class=o>*</span> <span class=n>element</span> <span class=o>*</span> <span class=n>base_angle</span><span class=p>)]])</span>
</span></span><span class=line><span class=cl>    <span class=n>supported_nonlinearities</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;norm&#39;</span><span class=p>,</span> <span class=s1>&#39;gated&#39;</span><span class=p>,</span> <span class=s1>&#39;concatenated&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=bp>self</span><span class=o>.</span><span class=n>irreps</span><span class=p>[</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>IrreducibleRepresentation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>irrep</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                  <span class=n>supported_nonlinearities</span><span class=o>=</span><span class=n>supported_nonlinearities</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                  <span class=n>frequency</span><span class=o>=</span><span class=n>k</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>è·Ÿä¸Šé¢çš„è¿›è¡Œå¯¹æ¯”ï¼Œè¿™ä¸ªåŒºåˆ«å°±æ˜¯é‡Œé¢åˆ›å»ºçš„çŸ©é˜µä¸ä¸€æ ·äº†ï¼Œæˆäº†ä¸€ä¸ª$1 \times 1$çš„çŸ©é˜µã€‚</p><p>ä¸Šé¢è¿™ä¸ªå‡½æ•°ç–‘é—®é‡é‡ï¼Œä¸ºä»€ä¹ˆä¸€ä¸ªé¢‘ç‡æœ‰ 7 ä¸ªè¡¨ç¤ºï¼Œç„¶åä»–ä»¬åé¢ä¼šè¿›è¡Œä»€ä¹ˆæ“ä½œï¼Œè¿™äº›éƒ½è¦çœ‹ä¸‹é¢çš„ä»£ç ï¼Œç„¶åæ‰èƒ½è¿›è¡Œè§£ç­”ã€‚</p><p>okï¼Œç°åœ¨çœ‹ä¸‹é¢çš„ä»£ç ï¼Œå›ç­”ä¸Šé¢çš„é—®é¢˜ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Build all Representations</span>
</span></span><span class=line><span class=cl><span class=c1># add all the irreps to the set of representations already built for this group</span>
</span></span><span class=line><span class=cl><span class=bp>self</span><span class=o>.</span><span class=n>representations</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=o>**</span><span class=bp>self</span><span class=o>.</span><span class=n>irreps</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># build the regular representation</span>
</span></span><span class=line><span class=cl><span class=bp>self</span><span class=o>.</span><span class=n>representations</span><span class=p>[</span><span class=s1>&#39;regular&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>regular_representation</span>
</span></span><span class=line><span class=cl><span class=bp>self</span><span class=o>.</span><span class=n>representations</span><span class=p>[</span><span class=s1>&#39;regular&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>supported_nonlinearities</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s1>&#39;vectorfield&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœè¯´ç°åœ¨å·²ç»æœ‰äº†ä¸å¯çº¦è¡¨ç¤ºï¼Œç›´æ¥æ›´æ–°ã€‚</p><p>å¦‚æœè¯´ä¸å­˜åœ¨ï¼Œè¿™ä¸ªæ˜¯å°†ä¼šå°†ç¾¤ä¸<code>rugular</code>çš„é”®ä¸<code>self.regular_representation</code>å…³è”èµ·æ¥ï¼Œå­˜å‚¨åœ¨<code>slef.reular_representation</code>ä¸­ã€‚</p><p>ä¸‹é¢çš„è¯çœ‹è¿™ä¸ªé‡Œé¢çš„ä»£ç ï¼Œæ˜¯<strong>é‡å¤´æˆ</strong>ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>regular_representation</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>e2cnn</span><span class=o>.</span><span class=n>group</span><span class=o>.</span><span class=n>Representation</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    Builds the regular representation of the group if the group has a *finite* number of elements;
</span></span></span><span class=line><span class=cl><span class=s2>    returns ``None`` otherwise.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    The regular representation of a finite group :math:`G` acts on a vector space :math:`\R^{|G|}` by permuting its
</span></span></span><span class=line><span class=cl><span class=s2>    axes.
</span></span></span><span class=line><span class=cl><span class=s2>    Specifically, associating each axis :math:`e_g` of :math:`\R^{|G|}` to an element :math:`g \in G`, the
</span></span></span><span class=line><span class=cl><span class=s2>    representation of an element :math:`\tilde</span><span class=si>{g}</span><span class=s2>\in G` is a permutation matrix which maps :math:`e_g` to
</span></span></span><span class=line><span class=cl><span class=s2>    :math:`e_{\tilde</span><span class=si>{g}</span><span class=s2>g}`.
</span></span></span><span class=line><span class=cl><span class=s2>    For instance, the regular representation of the group :math:`C_4` with elements
</span></span></span><span class=line><span class=cl><span class=s2>    :math:`\{r^k | k=0,\dots,3 \}` is instantiated by:
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    +-----------------------------------+------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
</span></span></span><span class=line><span class=cl><span class=s2>    |    :math:`g`                      |          :math:`e`                                                                                         |          :math:`r`                                                                                         |        :math:`r^2`                                                                                         |        :math:`r^3`                                                                                         |
</span></span></span><span class=line><span class=cl><span class=s2>    +===================================+============================================================================================================+============================================================================================================+============================================================================================================+============================================================================================================+
</span></span></span><span class=line><span class=cl><span class=s2>    |  :math:`\rho_\text</span><span class=si>{reg}</span><span class=s2>^</span><span class=si>{C_4}</span><span class=s2>(g)` | :math:`\begin</span><span class=si>{bmatrix}</span><span class=s2> 1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 &amp; 0 \\  0 &amp; 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \\ \end</span><span class=si>{bmatrix}</span><span class=s2>` | :math:`\begin</span><span class=si>{bmatrix}</span><span class=s2> 0 &amp; 0 &amp; 0 &amp; 1 \\ 1 &amp; 0 &amp; 0 &amp; 0 \\  0 &amp; 1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1 &amp; 0 \\ \end</span><span class=si>{bmatrix}</span><span class=s2>` | :math:`\begin</span><span class=si>{bmatrix}</span><span class=s2> 0 &amp; 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \\  1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 &amp; 0 \\ \end</span><span class=si>{bmatrix}</span><span class=s2>` | :math:`\begin</span><span class=si>{bmatrix}</span><span class=s2> 0 &amp; 1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1 &amp; 0 \\  0 &amp; 0 &amp; 0 &amp; 1 \\ 1 &amp; 0 &amp; 0 &amp; 0 \\ \end</span><span class=si>{bmatrix}</span><span class=s2>` |
</span></span></span><span class=line><span class=cl><span class=s2>    +-----------------------------------+------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    A vector :math:`v=\sum_g v_g e_g` in :math:`\R^{|G|}` can be interpreted as a scalar function
</span></span></span><span class=line><span class=cl><span class=s2>    :math:`v:G \to \R,\, g \mapsto v_g` on :math:`G`.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        the regular representation of the group
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>order</span><span class=p>()</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Regular representation is supported only for finite groups but &#34;</span>
</span></span><span class=line><span class=cl>                         <span class=sa>f</span><span class=s2>&#34;the group </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> has an infinite number of elements&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=s2>&#34;regular&#34;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>representations</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>irreps</span><span class=p>,</span> <span class=n>change_of_basis</span><span class=p>,</span> <span class=n>change_of_basis_inv</span> <span class=o>=</span> <span class=n>e2cnn</span><span class=o>.</span><span class=n>group</span><span class=o>.</span><span class=n>representation</span><span class=o>.</span><span class=n>build_regular_representation</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>supported_nonlinearities</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;pointwise&#39;</span><span class=p>,</span> <span class=s1>&#39;norm&#39;</span><span class=p>,</span> <span class=s1>&#39;gated&#39;</span><span class=p>,</span> <span class=s1>&#39;concatenated&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>representations</span><span class=p>[</span><span class=s2>&#34;regular&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>e2cnn</span><span class=o>.</span><span class=n>group</span><span class=o>.</span><span class=n>Representation</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                                         <span class=s2>&#34;regular&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                                         <span class=p>[</span><span class=n>r</span><span class=o>.</span><span class=n>name</span> <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>irreps</span><span class=p>],</span>
</span></span><span class=line><span class=cl>                                                                         <span class=n>change_of_basis</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                                         <span class=n>supported_nonlinearities</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                                         <span class=n>change_of_basis_inv</span><span class=o>=</span><span class=n>change_of_basis_inv</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                                         <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>representations</span><span class=p>[</span><span class=s2>&#34;regular&#34;</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>å¦‚æœè¯´ç°åœ¨æ˜¯æœ‰é™å¾ªç¯ç¾¤ï¼Œè¿™æ®µä»£ç å°†æ„å»ºç¾¤çš„æ­£åˆ™è¡¨ç¤ºã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬çœ‹åˆ°é‡Œé¢<code>irreps</code>è¿™ä¸ªå˜é‡å°†ä¼šè¿›è¡Œåˆ›å»ºï¼Œæ‰§è¡Œçš„æ˜¯è¿™ä¸ªè¯­å¥ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>irreps</span><span class=p>,</span> <span class=n>change_of_basis</span><span class=p>,</span> <span class=n>change_of_basis_inv</span> <span class=o>=</span> <span class=n>e2cnn</span><span class=o>.</span><span class=n>group</span><span class=o>.</span><span class=n>representation</span><span class=o>.</span><span class=n>build_regular_representation</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>é‚£ä¹ˆä¸‹é¢ï¼Œéœ€è¦çœ‹<code>build_regular_representation</code>è¿™ä¸ªå‡½æ•°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>build_regular_representation</span><span class=p>(</span><span class=n>group</span><span class=p>:</span> <span class=n>e2cnn</span><span class=o>.</span><span class=n>group</span><span class=o>.</span><span class=n>Group</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=n>e2cnn</span><span class=o>.</span><span class=n>group</span><span class=o>.</span><span class=n>IrreducibleRepresentation</span><span class=p>],</span> <span class=n>np</span><span class=o>.</span><span class=n>ndarray</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>ndarray</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    
</span></span></span><span class=line><span class=cl><span class=s2>    Build the regular representation of the input ``group``.
</span></span></span><span class=line><span class=cl><span class=s2>    As the regular representation has size equal to the number of elements in the group, only
</span></span></span><span class=line><span class=cl><span class=s2>    finite groups are accepted.
</span></span></span><span class=line><span class=cl><span class=s2>    
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        group (Group): the group whose representations has to be built
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        a tuple containing the list of irreps, the change of basis and the inverse change of basis of
</span></span></span><span class=line><span class=cl><span class=s2>        the regular representation
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=n>group</span><span class=o>.</span><span class=n>order</span><span class=p>()</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=n>group</span><span class=o>.</span><span class=n>elements</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=n>group</span><span class=o>.</span><span class=n>elements</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>size</span> <span class=o>=</span> <span class=n>group</span><span class=o>.</span><span class=n>order</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>index</span> <span class=o>=</span> <span class=p>{</span><span class=n>e</span><span class=p>:</span> <span class=n>i</span> <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>e</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>group</span><span class=o>.</span><span class=n>elements</span><span class=p>)}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>representation</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>character</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=n>group</span><span class=o>.</span><span class=n>elements</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># print(index[e], e)</span>
</span></span><span class=line><span class=cl>        <span class=n>r</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>zeros</span><span class=p>((</span><span class=n>size</span><span class=p>,</span> <span class=n>size</span><span class=p>),</span> <span class=n>dtype</span><span class=o>=</span><span class=nb>float</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>g</span> <span class=ow>in</span> <span class=n>group</span><span class=o>.</span><span class=n>elements</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>eg</span> <span class=o>=</span> <span class=n>group</span><span class=o>.</span><span class=n>combine</span><span class=p>(</span><span class=n>e</span><span class=p>,</span> <span class=n>g</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>i</span> <span class=o>=</span> <span class=n>index</span><span class=p>[</span><span class=n>g</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>j</span> <span class=o>=</span> <span class=n>index</span><span class=p>[</span><span class=n>eg</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>r</span><span class=p>[</span><span class=n>j</span><span class=p>,</span> <span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mf>1.0</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=n>representation</span><span class=p>[</span><span class=n>e</span><span class=p>]</span> <span class=o>=</span> <span class=n>r</span>
</span></span><span class=line><span class=cl>        <span class=c1># the character maps an element to the trace of its representation</span>
</span></span><span class=line><span class=cl>        <span class=n>character</span><span class=p>[</span><span class=n>e</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>trace</span><span class=p>(</span><span class=n>r</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># compute the multiplicities of the irreps from the dot product between</span>
</span></span><span class=line><span class=cl>    <span class=c1># their characters and the character of the representation</span>
</span></span><span class=line><span class=cl>    <span class=n>irreps</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=n>multiplicities</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>irrep_name</span><span class=p>,</span> <span class=n>irrep</span> <span class=ow>in</span> <span class=n>group</span><span class=o>.</span><span class=n>irreps</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=c1># for each irrep</span>
</span></span><span class=line><span class=cl>        <span class=n>multiplicity</span> <span class=o>=</span> <span class=mf>0.0</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>        <span class=c1># compute the inner product with the representation&#39;s character</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>element</span><span class=p>,</span> <span class=n>char</span> <span class=ow>in</span> <span class=n>character</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=n>multiplicity</span> <span class=o>+=</span> <span class=n>char</span> <span class=o>*</span> <span class=n>irrep</span><span class=o>.</span><span class=n>character</span><span class=p>(</span><span class=n>group</span><span class=o>.</span><span class=n>inverse</span><span class=p>(</span><span class=n>element</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>        <span class=n>multiplicity</span> <span class=o>/=</span> <span class=nb>len</span><span class=p>(</span><span class=n>character</span><span class=p>)</span> <span class=o>*</span> <span class=n>irrep</span><span class=o>.</span><span class=n>sum_of_squares_constituents</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>        <span class=c1># the result has to be an integer</span>
</span></span><span class=line><span class=cl>        <span class=k>assert</span> <span class=n>math</span><span class=o>.</span><span class=n>isclose</span><span class=p>(</span><span class=n>multiplicity</span><span class=p>,</span> <span class=nb>round</span><span class=p>(</span><span class=n>multiplicity</span><span class=p>),</span> <span class=n>abs_tol</span><span class=o>=</span><span class=mf>1e-9</span><span class=p>),</span> \
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Multiplicity of irrep </span><span class=si>%s</span><span class=s2> is not an integer: </span><span class=si>%f</span><span class=s2>&#34;</span> <span class=o>%</span> <span class=p>(</span><span class=n>irrep_name</span><span class=p>,</span> <span class=n>multiplicity</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># print(irrep_name, multiplicity)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>multiplicity</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>round</span><span class=p>(</span><span class=n>multiplicity</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>irreps</span> <span class=o>+=</span> <span class=p>[</span><span class=n>irrep</span><span class=p>]</span><span class=o>*</span><span class=n>multiplicity</span>
</span></span><span class=line><span class=cl>        <span class=n>multiplicities</span> <span class=o>+=</span> <span class=p>[(</span><span class=n>irrep</span><span class=p>,</span> <span class=n>multiplicity</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>P</span> <span class=o>=</span> <span class=n>directsum</span><span class=p>(</span><span class=n>irreps</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&#34;irreps&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>v</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>zeros</span><span class=p>((</span><span class=n>size</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=n>dtype</span><span class=o>=</span><span class=nb>float</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>p</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>irr</span><span class=p>,</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>multiplicities</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>assert</span> <span class=n>irr</span><span class=o>.</span><span class=n>size</span> <span class=o>&gt;=</span> <span class=n>m</span>
</span></span><span class=line><span class=cl>        <span class=n>s</span> <span class=o>=</span> <span class=n>irr</span><span class=o>.</span><span class=n>size</span>
</span></span><span class=line><span class=cl>        <span class=n>v</span><span class=p>[</span><span class=n>p</span><span class=p>:</span><span class=n>p</span><span class=o>+</span><span class=n>m</span><span class=o>*</span><span class=n>s</span><span class=p>,</span> <span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>eye</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>s</span><span class=p>)</span><span class=o>.</span><span class=n>reshape</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>*</span> <span class=n>np</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>p</span> <span class=o>+=</span> <span class=n>m</span><span class=o>*</span><span class=n>s</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=n>change_of_basis</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>zeros</span><span class=p>((</span><span class=n>size</span><span class=p>,</span> <span class=n>size</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>np</span><span class=o>.</span><span class=n>set_printoptions</span><span class=p>(</span><span class=n>precision</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span> <span class=n>threshold</span><span class=o>=</span><span class=mi>10</span><span class=o>*</span><span class=n>size</span><span class=o>**</span><span class=mi>2</span><span class=p>,</span> <span class=n>suppress</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>linewidth</span><span class=o>=</span><span class=mi>25</span><span class=o>*</span><span class=n>size</span> <span class=o>+</span> <span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=n>group</span><span class=o>.</span><span class=n>elements</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>ev</span> <span class=o>=</span> <span class=n>P</span><span class=p>(</span><span class=n>e</span><span class=p>)</span> <span class=o>@</span> <span class=n>v</span>
</span></span><span class=line><span class=cl>        <span class=n>change_of_basis</span><span class=p>[</span><span class=n>index</span><span class=p>[</span><span class=n>e</span><span class=p>],</span> <span class=p>:]</span> <span class=o>=</span> <span class=n>ev</span><span class=o>.</span><span class=n>T</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>change_of_basis</span> <span class=o>/=</span> <span class=n>np</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>size</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># the computed change of basis is an orthonormal matrix</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># change_of_basis_inv = sp.linalg.inv(change_of_basis)</span>
</span></span><span class=line><span class=cl>    <span class=n>change_of_basis_inv</span> <span class=o>=</span> <span class=n>change_of_basis</span><span class=o>.</span><span class=n>T</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>irreps</span><span class=p>,</span> <span class=n>change_of_basis</span><span class=p>,</span> <span class=n>change_of_basis_inv</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸ªå‡½æ•°å…¶å®æ˜¯æ ¸å¿ƒä¸­çš„æ ¸å¿ƒï¼Œè¿™ä¸ªå°±æ˜¯å°†æ¯ä¸ªé¢‘ç‡è¿›è¡Œç›¸åŠ ï¼Œç„¶åå¾—åˆ°ä¸€ä¸ªå€¼ã€‚ä¸‹é¢å°†è¿™ä¸ªè¿›è¡Œé€è¡Œè§£æã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>assert</span> <span class=n>group</span><span class=o>.</span><span class=n>order</span><span class=p>()</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>assert</span> <span class=n>group</span><span class=o>.</span><span class=n>elements</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=n>group</span><span class=o>.</span><span class=n>elements</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>size</span> <span class=o>=</span> <span class=n>group</span><span class=o>.</span><span class=n>order</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>index</span> <span class=o>=</span> <span class=p>{</span><span class=n>e</span><span class=p>:</span> <span class=n>i</span> <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>e</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>group</span><span class=o>.</span><span class=n>elements</span><span class=p>)}</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸ªè¿˜æ˜¯è€è§„çŸ©ï¼Œé¦–å…ˆå…ˆåˆ¤æ–­ï¼Œç„¶åè®¾ç½®ç¾¤çš„ç»“æŸï¼Œä»¥åŠå¯¹åº”çš„ç´¢å¼•å·ã€‚ç„¶ååˆ›å»º index çš„å­—å…¸ã€‚</p><ul><li><code>group.elements</code>ï¼šè¿™ä¸ªéƒ¨åˆ†å¯èƒ½æ˜¯ä¸€ä¸ªç¾¤ï¼ˆgroupï¼‰å¯¹è±¡æˆ–ç±»ä¸­çš„å±æ€§ï¼Œå…¶ä¸­åŒ…å«äº†ç¾¤çš„å…ƒç´ ã€‚</li><li><code>enumerate(group.elements)</code>ï¼š<code>enumerate()</code> å‡½æ•°ç”¨äºè¿­ä»£ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆæ¯”å¦‚åˆ—è¡¨ã€å…ƒç»„ç­‰ï¼‰ï¼Œå¹¶è¿”å›ç´¢å¼•å€¼å’Œå¯¹åº”çš„å…ƒç´ ã€‚è¿™é‡Œå¯¹ç¾¤ä¸­çš„å…ƒç´ è¿›è¡Œäº†æšä¸¾ï¼Œ<code>i</code> æ˜¯ç´¢å¼•ï¼Œ<code>e</code> æ˜¯ç¾¤ä¸­çš„å…ƒç´ ã€‚</li><li><code>{e: i for i, e in enumerate(group.elements)}</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå­—å…¸æ¨å¯¼å¼ã€‚å®ƒéå†äº† <code>enumerate(group.elements)</code> è¿”å›çš„æšä¸¾å¯¹è±¡ï¼Œå¯¹æ¯ä¸ªå…ƒç´ åˆ›å»ºäº†ä¸€ä¸ªé”®å€¼å¯¹ã€‚å­—å…¸çš„é”®æ˜¯ç¾¤ä¸­çš„å…ƒç´  <code>e</code>ï¼Œè€Œå€¼æ˜¯å®ƒä»¬åœ¨ç¾¤ä¸­çš„ç´¢å¼• <code>i</code>ã€‚</li></ul><p>åœ¨æœ¬æ–‡çš„æƒ…å†µä¸‹ index çš„å€¼å°±æ˜¯<code>{0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7}</code></p><p>ç„¶åçœ‹ä¸‹é¢çš„ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=n>group</span><span class=o>.</span><span class=n>elements</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>index</span><span class=p>[</span><span class=n>e</span><span class=p>],</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>r</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>zeros</span><span class=p>((</span><span class=n>size</span><span class=p>,</span> <span class=n>size</span><span class=p>),</span> <span class=n>dtype</span><span class=o>=</span><span class=nb>float</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>g</span> <span class=ow>in</span> <span class=n>group</span><span class=o>.</span><span class=n>elements</span><span class=p>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>eg</span> <span class=o>=</span> <span class=n>group</span><span class=o>.</span><span class=n>combine</span><span class=p>(</span><span class=n>e</span><span class=p>,</span> <span class=n>g</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>i</span> <span class=o>=</span> <span class=n>index</span><span class=p>[</span><span class=n>g</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>j</span> <span class=o>=</span> <span class=n>index</span><span class=p>[</span><span class=n>eg</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>r</span><span class=p>[</span><span class=n>j</span><span class=p>,</span> <span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mf>1.0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>representation</span><span class=p>[</span><span class=n>e</span><span class=p>]</span> <span class=o>=</span> <span class=n>r</span>
</span></span><span class=line><span class=cl>    <span class=c1># the character maps an element to the trace of its representation</span>
</span></span><span class=line><span class=cl>    <span class=n>character</span><span class=p>[</span><span class=n>e</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>trace</span><span class=p>(</span><span class=n>r</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™æ®µä»£ç é¦–å…ˆå…ˆéå†é‡Œé¢çš„å…ƒç´ ï¼Œåˆ›å»ºä¸€ä¸ªå¤§å°ä¸º (size,size) å¤§å°çš„äºŒç»´æ•°ç»„<code>r</code>ã€‚</p><p>åœ¨æ¯ä¸ªå…ƒç´  <code>e</code> çš„å¾ªç¯å†…ï¼Œè¿™æ®µä»£ç åµŒå¥—äº†ä¸€ä¸ªå¾ªç¯ï¼Œéå†ç¾¤ <code>group</code> ä¸­çš„æ¯ä¸ªå…ƒç´  <code>g</code>ã€‚å°†å¯¹åº”çš„ç¾¤<code>e</code>å’Œ<code>g</code>ç»“åˆèµ·æ¥ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç¾¤å…ƒç´ <code>eg</code>ã€‚</p><p><code>i = index[g]</code> å’Œ <code>j = index[eg]</code>ï¼šè¿™ä¸¤è¡Œä»£ç åˆ†åˆ«è·å–äº†ç¾¤å…ƒç´  <code>g</code> å’Œ <code>eg</code> åœ¨ <code>index</code> å­—å…¸ä¸­çš„ç´¢å¼•å€¼ï¼Œå³å®ƒä»¬åœ¨è¡¨ç¤ºçŸ©é˜µ <code>r</code> ä¸­å¯¹åº”çš„ä½ç½®ã€‚</p><p><code>r[j, i] = 1.0</code>ï¼šè¿™è¡Œä»£ç å°†è¡¨ç¤ºçŸ©é˜µ <code>r</code> ä¸­çš„ä½ç½® <code>(j, i)</code>ï¼ˆæ ¹æ®ç¾¤å…ƒç´  <code>eg</code> å’Œ <code>g</code> çš„ç´¢å¼•å€¼è®¡ç®—å¾—åˆ°ï¼‰çš„å…ƒç´ è®¾ç½®ä¸º 1.0ã€‚è¿™æ˜¯è¡¨ç¤ºçŸ©é˜µä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œç”¨äºè¡¨ç¤ºç¾¤æ“ä½œåçš„ç»“æœã€‚</p><p><code>representation[e] = r</code>ï¼šå°†è¡¨ç¤ºçŸ©é˜µ <code>r</code> å­˜å‚¨åˆ°è¡¨ç¤ºå­—å…¸ <code>representation</code> ä¸­ï¼Œå…¶ä¸­é”®æ˜¯ç¾¤å…ƒç´  <code>e</code>ã€‚</p><p><code>character[e] = np.trace(r)</code>ï¼šè¿™è¡Œä»£ç è®¡ç®—äº†è¡¨ç¤ºçŸ©é˜µ <code>r</code> çš„è¿¹ï¼ˆtraceï¼‰ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨å­—ç¬¦ï¼ˆcharacterï¼‰å­—å…¸ <code>character</code> ä¸­ï¼Œé”®æ˜¯ç¾¤å…ƒç´  <code>e</code>ã€‚åœ¨ç¾¤è®ºä¸­ï¼Œè¡¨ç¤ºçš„è¿¹ï¼ˆtraceï¼‰é€šå¸¸è¢«ç§°ä¸ºå­—ç¬¦ï¼ˆcharacterï¼‰ï¼Œå®ƒæ˜¯è¡¨ç¤ºç†è®ºä¸­çš„ä¸€ä¸ªé‡è¦æ€§è´¨ä¹‹ä¸€ã€‚</p><p>è¿˜æ˜¯ä»ä¸€ä¸ªä¾‹å­å‡ºå‘ï¼Œè¿™é‡Œçš„è¯è¿˜ä½¿ç”¨å¯¹åº”çš„<code>e=0</code>ï¼Œ<code>g= 0,1,2,3,4,5,6,7</code>è¿™ç§æƒ…å†µã€‚</p><p>è¿™ä¸ªæ—¶å€™ï¼Œ<code>eg=0,1,2,3,4,5,6,7</code>ï¼Œåœ¨éå†å®Œæˆä¹‹åï¼Œå¯¹åº”çš„<code>r</code>çŸ©é˜µåº”è¯¥å°±æ˜¯$8 \times 8$çš„å•ä½çŸ©é˜µï¼Œç„¶åæ­¤æ—¶ representation åº”è¯¥å°±æ˜¯ (0) ä½ç½®æ˜¯ 1ï¼Œå…¶ä»–ä½ç½®éƒ½æ˜¯ 0ã€‚character[0]åº”è¯¥æ˜¯ çŸ©é˜µçš„è¿¹ï¼Œæ˜¯ 8ã€‚</p><p><img src=https://img-1312072469.cos.ap-nanjing.myqcloud.com/image-20231203103758920.png loading=lazy alt=image-20231203103758920></p><p><img src=https://img-1312072469.cos.ap-nanjing.myqcloud.com/image-20231203103830708.png loading=lazy alt=image-20231203103830708></p><p><img src=https://img-1312072469.cos.ap-nanjing.myqcloud.com/image-20231203103854946.png loading=lazy alt=image-20231203103854946></p><p>ä»¥æ­¤ç±»æ¨ï¼Œåˆ›å»ºå®Œå¯¹åº”çš„æ•°ç»„ã€‚</p><p>ç„¶åæ¥ç€çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>irreps</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=n>multiplicities</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>irrep_name</span><span class=p>,</span> <span class=n>irrep</span> <span class=ow>in</span> <span class=n>group</span><span class=o>.</span><span class=n>irreps</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># for each irrep</span>
</span></span><span class=line><span class=cl>    <span class=n>multiplicity</span> <span class=o>=</span> <span class=mf>0.0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># compute the inner product with the representation&#39;s character</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>element</span><span class=p>,</span> <span class=n>char</span> <span class=ow>in</span> <span class=n>character</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>multiplicity</span> <span class=o>+=</span> <span class=n>char</span> <span class=o>*</span> <span class=n>irrep</span><span class=o>.</span><span class=n>character</span><span class=p>(</span><span class=n>group</span><span class=o>.</span><span class=n>inverse</span><span class=p>(</span><span class=n>element</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>multiplicity</span> <span class=o>/=</span> <span class=nb>len</span><span class=p>(</span><span class=n>character</span><span class=p>)</span> <span class=o>*</span> <span class=n>irrep</span><span class=o>.</span><span class=n>sum_of_squares_constituents</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># the result has to be an integer</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=n>math</span><span class=o>.</span><span class=n>isclose</span><span class=p>(</span><span class=n>multiplicity</span><span class=p>,</span> <span class=nb>round</span><span class=p>(</span><span class=n>multiplicity</span><span class=p>),</span> <span class=n>abs_tol</span><span class=o>=</span><span class=mf>1e-9</span><span class=p>),</span> \
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Multiplicity of irrep </span><span class=si>%s</span><span class=s2> is not an integer: </span><span class=si>%f</span><span class=s2>&#34;</span> <span class=o>%</span> <span class=p>(</span><span class=n>irrep_name</span><span class=p>,</span> <span class=n>multiplicity</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(irrep_name, multiplicity)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>multiplicity</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>round</span><span class=p>(</span><span class=n>multiplicity</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>irreps</span> <span class=o>+=</span> <span class=p>[</span><span class=n>irrep</span><span class=p>]</span><span class=o>*</span><span class=n>multiplicity</span>
</span></span><span class=line><span class=cl>    <span class=n>multiplicities</span> <span class=o>+=</span> <span class=p>[(</span><span class=n>irrep</span><span class=p>,</span> <span class=n>multiplicity</span><span class=p>)]</span>
</span></span></code></pre></td></tr></table></div></div><p>è®¡ç®—ç¾¤çš„ä¸å¯çº¦è¡¨ç¤ºï¼ˆirreducible representationsï¼‰çš„é‡å¤æ•°é‡ï¼ˆmultiplicitiesï¼‰ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨ <code>irreps</code> å’Œ <code>multiplicities</code> ä¸­ã€‚ä¸‹é¢é€è¡Œåˆ†æå¯¹åº”çš„ä»£ç ã€‚</p><p>é¦–å…ˆçš„è¯åˆ›å»ºå¯¹åº”çš„å˜é‡è¿›è¡Œå­˜å‚¨ã€‚</p><p><code>for irrep_name, irrep in group.irreps.items():</code>ï¼šè¿™æ®µä»£ç éå†äº†ç¾¤ <code>group</code> çš„ä¸å¯çº¦è¡¨ç¤ºå­—å…¸ï¼ˆ<code>group.irreps</code>ï¼‰ä¸­çš„æ¯ä¸€ä¸ªä¸å¯çº¦è¡¨ç¤ºï¼Œå…¶ä¸­ <code>irrep_name</code> æ˜¯è¡¨ç¤ºçš„åç§°ï¼Œ<code>irrep</code> æ˜¯è¡¨ç¤ºå¯¹è±¡ã€‚</p><p>group.irreps.items() å°±æ˜¯æˆ‘ä»¬ ä¸Šé¢åˆ›å»ºå¥½çš„ç¾¤å…ƒç´ ã€‚</p><p><code>for element, char in character.items():</code>ï¼šè¿™æ®µä»£ç éå†äº†å­—ç¬¦ï¼ˆcharacterï¼‰å­—å…¸ <code>character</code> ä¸­çš„æ¯ä¸ªç¾¤å…ƒç´ å’Œå¯¹åº”çš„å­—ç¬¦å€¼ï¼ˆcharacter valueï¼‰ã€‚</p><p><code>multiplicity += char * irrep.character(group.inverse(element))</code>ï¼šåœ¨æ¯ä¸ªä¸å¯çº¦è¡¨ç¤º <code>irrep</code> çš„å¾ªç¯å†…ï¼Œè®¡ç®—äº†è¯¥ä¸å¯çº¦è¡¨ç¤ºä¸è¡¨ç¤ºå¯¹åº”ç¾¤å…ƒç´ çš„å­—ç¬¦çš„å†…ç§¯ï¼ˆinner productï¼‰ã€‚è¿™ä¸ªå†…ç§¯è®¡ç®—ç”¨äºç¡®å®šè¡¨ç¤ºçš„é‡å¤æ¬¡æ•°ã€‚</p><p><code>multiplicity /= len(character) * irrep.sum_of_squares_constituents</code>ï¼šåœ¨å†…ç§¯è®¡ç®—ä¹‹åï¼Œå¯¹ç»“æœè¿›è¡Œäº†å½’ä¸€åŒ–ï¼Œé™¤ä»¥è¡¨ç¤ºçš„å…ƒç´ æ•°ä¹˜ä»¥ä¸å¯çº¦è¡¨ç¤ºçš„æ€»å…ƒç´ å¹³æ–¹å’Œã€‚</p><p><code>assert math.isclose(multiplicity, round(multiplicity), abs_tol=1e-9)</code>ï¼šè¿™è¡Œä»£ç æ£€æŸ¥ <code>multiplicity</code> æ˜¯å¦æ¥è¿‘äºæ•´æ•°ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™ä¼šè§¦å‘æ–­è¨€é”™è¯¯ã€‚</p><p><code>multiplicity = int(round(multiplicity))</code>ï¼šå°† <code>multiplicity</code> èˆå…¥ä¸ºæœ€æ¥è¿‘çš„æ•´æ•°å€¼ï¼Œç¡®ä¿å®ƒæ˜¯æ•´æ•°ã€‚</p><p><code>irreps += [irrep]*multiplicity</code> å’Œ <code>multiplicities += [(irrep, multiplicity)]</code>ï¼šå°†ä¸å¯çº¦è¡¨ç¤º <code>irrep</code> é‡å¤ <code>multiplicity</code> æ¬¡æ·»åŠ åˆ° <code>irreps</code> åˆ—è¡¨ä¸­ï¼Œå¹¶å°†è¡¨ç¤ºå’Œå…¶é‡å¤æ¬¡æ•°çš„å…ƒç»„æ·»åŠ åˆ° <code>multiplicities</code> åˆ—è¡¨ä¸­ã€‚</p><p>ç„¶åçœ‹ä¸‹é¢çš„ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>P</span> <span class=o>=</span> <span class=n>directsum</span><span class=p>(</span><span class=n>irreps</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&#34;irreps&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>v</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>zeros</span><span class=p>((</span><span class=n>size</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=n>dtype</span><span class=o>=</span><span class=nb>float</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>p</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>irr</span><span class=p>,</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>multiplicities</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=n>irr</span><span class=o>.</span><span class=n>size</span> <span class=o>&gt;=</span> <span class=n>m</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>=</span> <span class=n>irr</span><span class=o>.</span><span class=n>size</span>
</span></span><span class=line><span class=cl>    <span class=n>v</span><span class=p>[</span><span class=n>p</span><span class=p>:</span><span class=n>p</span><span class=o>+</span><span class=n>m</span><span class=o>*</span><span class=n>s</span><span class=p>,</span> <span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>eye</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>s</span><span class=p>)</span><span class=o>.</span><span class=n>reshape</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>*</span> <span class=n>np</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>p</span> <span class=o>+=</span> <span class=n>m</span><span class=o>*</span><span class=n>s</span>
</span></span></code></pre></td></tr></table></div></div><p><code>directsum(irreps, name="irreps")</code>ï¼šè¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªåä¸º <code>directsum</code> çš„å‡½æ•°ï¼Œå®ƒçš„ç›®çš„æ˜¯å°†ä¸å¯çº¦è¡¨ç¤ºåˆ—è¡¨ <code>irreps</code> ä¸­çš„ä¸å¯çº¦è¡¨ç¤ºæŒ‰ç…§å…¶ç»™å®šçš„é‡æ•°ä¿¡æ¯ç›¸åŠ ï¼Œæ„å»ºä¸€ä¸ªç›´å’Œè¡¨ç¤º <code>P</code>ã€‚</p><p>çœ‹<code>directsum</code>è¿™ä¸ªå‡½æ•°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>directsum</span><span class=p>(</span><span class=n>reprs</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>e2cnn</span><span class=o>.</span><span class=n>group</span><span class=o>.</span><span class=n>Representation</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>change_of_basis</span><span class=p>:</span> <span class=n>np</span><span class=o>.</span><span class=n>ndarray</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=n>name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>              <span class=p>)</span> <span class=o>-&gt;</span> <span class=n>e2cnn</span><span class=o>.</span><span class=n>group</span><span class=o>.</span><span class=n>Representation</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Compute the *direct sum* of a list of representations of a group.
</span></span></span><span class=line><span class=cl><span class=s2>    
</span></span></span><span class=line><span class=cl><span class=s2>    The direct sum of two representations is defined as follow:
</span></span></span><span class=line><span class=cl><span class=s2>    
</span></span></span><span class=line><span class=cl><span class=s2>    .. math::
</span></span></span><span class=line><span class=cl><span class=s2>        \rho_1(g) \oplus \rho_2(g) = \begin</span><span class=si>{bmatrix}</span><span class=s2> \rho_1(g) &amp; 0 \\ 0 &amp; \rho_2(g) \end</span><span class=si>{bmatrix}</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    
</span></span></span><span class=line><span class=cl><span class=s2>    This can be generalized to multiple representations as:
</span></span></span><span class=line><span class=cl><span class=s2>    
</span></span></span><span class=line><span class=cl><span class=s2>    .. math::
</span></span></span><span class=line><span class=cl><span class=s2>        \bigoplus_{i=1}^I \rho_i(g) = (\rho_1(g) \oplus (\rho_2(g) \oplus (\rho_3(g) \oplus \dots = \begin</span><span class=si>{bmatrix}</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>            \rho_1(g) &amp;         0 &amp;  \dots &amp;      0 \\
</span></span></span><span class=line><span class=cl><span class=s2>                    0 &amp; \rho_2(g) &amp;  \dots &amp; \vdots \\
</span></span></span><span class=line><span class=cl><span class=s2>               \vdots &amp;    \vdots &amp; \ddots &amp;      0 \\
</span></span></span><span class=line><span class=cl><span class=s2>                    0 &amp;     \dots &amp;      0 &amp; \rho_I(g) \\
</span></span></span><span class=line><span class=cl><span class=s2>        \end</span><span class=si>{bmatrix}</span><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    .. note::
</span></span></span><span class=line><span class=cl><span class=s2>        All the input representations need to belong to the same group.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        reprs (list): the list of representations to sum.
</span></span></span><span class=line><span class=cl><span class=s2>        change_of_basis (~numpy.ndarray, optional): an invertible square matrix to use as change of basis after computing the direct sum.
</span></span></span><span class=line><span class=cl><span class=s2>                By default (``None``), an identity matrix is used, such that only the direct sum is evaluated.
</span></span></span><span class=line><span class=cl><span class=s2>        name (str, optional): a name for the new representation.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        the direct sum
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>group</span> <span class=o>=</span> <span class=n>reprs</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>group</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>reprs</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>assert</span> <span class=n>group</span> <span class=o>==</span> <span class=n>r</span><span class=o>.</span><span class=n>group</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>name</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>name</span> <span class=o>=</span> <span class=s2>&#34;_&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=sa>f</span><span class=s2>&#34;[</span><span class=si>{</span><span class=n>r</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>]&#34;</span> <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>reprs</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>irreps</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>reprs</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>irreps</span> <span class=o>+=</span> <span class=n>r</span><span class=o>.</span><span class=n>irreps</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>size</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>([</span><span class=n>r</span><span class=o>.</span><span class=n>size</span> <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>reprs</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>cob</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>zeros</span><span class=p>((</span><span class=n>size</span><span class=p>,</span> <span class=n>size</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>cob_inv</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>zeros</span><span class=p>((</span><span class=n>size</span><span class=p>,</span> <span class=n>size</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>p</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>reprs</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>cob</span><span class=p>[</span><span class=n>p</span><span class=p>:</span><span class=n>p</span> <span class=o>+</span> <span class=n>r</span><span class=o>.</span><span class=n>size</span><span class=p>,</span> <span class=n>p</span><span class=p>:</span><span class=n>p</span> <span class=o>+</span> <span class=n>r</span><span class=o>.</span><span class=n>size</span><span class=p>]</span> <span class=o>=</span> <span class=n>r</span><span class=o>.</span><span class=n>change_of_basis</span>
</span></span><span class=line><span class=cl>        <span class=n>cob_inv</span><span class=p>[</span><span class=n>p</span><span class=p>:</span><span class=n>p</span> <span class=o>+</span> <span class=n>r</span><span class=o>.</span><span class=n>size</span><span class=p>,</span> <span class=n>p</span><span class=p>:</span><span class=n>p</span> <span class=o>+</span> <span class=n>r</span><span class=o>.</span><span class=n>size</span><span class=p>]</span> <span class=o>=</span> <span class=n>r</span><span class=o>.</span><span class=n>change_of_basis_inv</span>
</span></span><span class=line><span class=cl>        <span class=n>p</span> <span class=o>+=</span> <span class=n>r</span><span class=o>.</span><span class=n>size</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>change_of_basis</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>change_of_basis</span> <span class=o>=</span> <span class=n>change_of_basis</span> <span class=o>@</span> <span class=n>cob</span>
</span></span><span class=line><span class=cl>        <span class=n>change_of_basis_inv</span> <span class=o>=</span> <span class=n>sp</span><span class=o>.</span><span class=n>linalg</span><span class=o>.</span><span class=n>inv</span><span class=p>(</span><span class=n>change_of_basis</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>change_of_basis</span> <span class=o>=</span> <span class=n>cob</span>
</span></span><span class=line><span class=cl>        <span class=n>change_of_basis_inv</span> <span class=o>=</span> <span class=n>cob_inv</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>supported_nonlinearities</span> <span class=o>=</span> <span class=nb>set</span><span class=o>.</span><span class=n>intersection</span><span class=p>(</span><span class=o>*</span><span class=p>[</span><span class=n>r</span><span class=o>.</span><span class=n>supported_nonlinearities</span> <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>reprs</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>Representation</span><span class=p>(</span><span class=n>group</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>irreps</span><span class=p>,</span> <span class=n>change_of_basis</span><span class=p>,</span> <span class=n>supported_nonlinearities</span><span class=p>,</span> <span class=n>change_of_basis_inv</span><span class=o>=</span><span class=n>change_of_basis_inv</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸ªå‡½æ•°ä½œç”¨æ˜¯è®¡ç®—ç¾¤çš„ä»£è¡¨åˆ—è¡¨çš„ç›´ç§¯ã€‚ä¸¤ä¸ªæ•°çš„ç›´ç§¯å¯ä»¥è¡¨ç¤ºæˆï¼š
$$
\rho_1(g) \oplus \rho_2(g) = \begin{bmatrix} \rho_1(g) & 0 \ 0 & \rho_2(g) \end{bmatrix}
$$
è¿™å¯ä»¥æ¨å¹¿ä¸ºå¤šç§è¡¨ç¤ºå½¢å¼ï¼š
$$
\bigoplus_{i=1}^I \rho_i(g) = (\rho_1(g) \oplus (\rho_2(g) \oplus (\rho_3(g) \oplus \dots = \begin{bmatrix}
\rho_1(g) & 0 & \dots & 0 \
0 & \rho_2(g) & \dots & \vdots \
\vdots & \vdots & \ddots & 0 \
0 & \dots & 0 & \rho_I(g) \
\end{bmatrix}
$$
é‡Œé¢æ‹¿åˆ°å¾ˆå¤šå˜é‡è¿›è¡Œç›´ç§¯æ“ä½œï¼Œç›¸å½“äºçŸ©é˜µçš„æ‹¼æ¥ä»¥åŠå¡«å……ï¼Œé‡Œé¢æ²¡æœ‰ä»€ä¹ˆå¥½è®²çš„ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬ç°åœ¨è®²ä¸å¯çº¦ç¾¤ è¿›è¡Œç›´æ¥æ“ä½œï¼Œå‘½åæˆ<code>irreps</code>ï¼Œæ¥ä¸‹æ¥å°†åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º <code>(size, 1)</code> çš„å…¨é›¶åˆ—å‘é‡ <code>v</code>ï¼Œè¯¥å‘é‡å°†ç”¨ä½œåŸºçš„å˜æ¢çŸ©é˜µçš„ä¸€éƒ¨åˆ†ã€‚</p><p>ç„¶åæ¥ä¸‹å°±åˆ°å¾ªç¯éƒ¨åˆ†ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>p</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>irr</span><span class=p>,</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>multiplicities</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>assert</span> <span class=n>irr</span><span class=o>.</span><span class=n>size</span> <span class=o>&gt;=</span> <span class=n>m</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>=</span> <span class=n>irr</span><span class=o>.</span><span class=n>size</span>
</span></span><span class=line><span class=cl>    <span class=n>v</span><span class=p>[</span><span class=n>p</span><span class=p>:</span><span class=n>p</span><span class=o>+</span><span class=n>m</span><span class=o>*</span><span class=n>s</span><span class=p>,</span> <span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>eye</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>s</span><span class=p>)</span><span class=o>.</span><span class=n>reshape</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>*</span> <span class=n>np</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>p</span> <span class=o>+=</span> <span class=n>m</span><span class=o>*</span><span class=n>s</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>å¯¹äºæ¯ä¸ªä¸å¯çº¦è¡¨ç¤º<code>irr</code>å’Œå…¶å¯¹åº”çš„é‡æ•°<code>m</code>:<ul><li><code>s = irr.size</code>ï¼šè·å–ä¸å¯çº¦è¡¨ç¤ºçš„ç»´åº¦ã€‚</li><li><code>np.eye(m, s).reshape(-1) * np.sqrt(s)</code>ï¼šç”Ÿæˆä¸€ä¸ªå¤§å°ä¸º <code>(m, s)</code> çš„å•ä½çŸ©é˜µï¼Œå¹¶å¯¹å…¶è¿›è¡Œé‡å¡‘ï¼ˆreshapeï¼‰ä»¥å˜æˆä¸€ä¸ªåˆ—å‘é‡ï¼Œå¹¶ä¹˜ä»¥ $\sqrt{s}$ã€‚</li><li><code>v[p:p+m*s, 0] = ...</code>ï¼šå°†ç”Ÿæˆçš„åˆ—å‘é‡æ”¾ç½®åœ¨ <code>v</code> çš„é€‚å½“ä½ç½®ï¼Œæ ¹æ®å½“å‰ <code>p</code> çš„å€¼å’Œè¡¨ç¤ºçš„ç»´åº¦ <code>s</code>ã€‚</li><li><code>p += m*s</code>ï¼šæ›´æ–°ä¸‹ä¸€ä¸ªè¡¨ç¤ºçš„èµ·å§‹ä½ç½®ã€‚</li></ul></li></ul><p>ç„¶åçš„è¯çœ‹æ¥ä¸‹æ¥çš„ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>change_of_basis</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>zeros</span><span class=p>((</span><span class=n>size</span><span class=p>,</span> <span class=n>size</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>np</span><span class=o>.</span><span class=n>set_printoptions</span><span class=p>(</span><span class=n>precision</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span> <span class=n>threshold</span><span class=o>=</span><span class=mi>10</span><span class=o>*</span><span class=n>size</span><span class=o>**</span><span class=mi>2</span><span class=p>,</span> <span class=n>suppress</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>linewidth</span><span class=o>=</span><span class=mi>25</span><span class=o>*</span><span class=n>size</span> <span class=o>+</span> <span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>e</span> <span class=ow>in</span> <span class=n>group</span><span class=o>.</span><span class=n>elements</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>ev</span> <span class=o>=</span> <span class=n>P</span><span class=p>(</span><span class=n>e</span><span class=p>)</span> <span class=o>@</span> <span class=n>v</span>
</span></span><span class=line><span class=cl>    <span class=n>change_of_basis</span><span class=p>[</span><span class=n>index</span><span class=p>[</span><span class=n>e</span><span class=p>],</span> <span class=p>:]</span> <span class=o>=</span> <span class=n>ev</span><span class=o>.</span><span class=n>T</span>
</span></span><span class=line><span class=cl><span class=n>change_of_basis</span> <span class=o>/=</span> <span class=n>np</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>size</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>è¿™ä¸€éƒ¨åˆ†ä»£ç æ˜¯è®¡ç®—ç¾¤çš„æ­£åˆ™è¡¨ç¤ºçš„åŸºä¹‹é—´çš„å˜æ¢çŸ©é˜µã€‚å®ƒä½¿ç”¨ä¹‹å‰æ„å»ºçš„ç›´å’Œè¡¨ç¤º <code>P</code> å’ŒåŸºçš„å˜æ¢çŸ©é˜µ <code>v</code>ï¼Œæ¥è®¡ç®—ç¾¤çš„å…ƒç´ ä¹‹é—´çš„è¡¨ç¤ºçŸ©é˜µï¼Œæœ€ç»ˆå¾—åˆ°åŸºçš„å˜æ¢çŸ©é˜µ <code>change_of_basis</code>ã€‚</p><ol><li><strong><code>change_of_basis = np.zeros((size, size))</code></strong>ï¼š</li></ol><ul><li>åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º <code>(size, size)</code> çš„å…¨é›¶çŸ©é˜µ <code>change_of_basis</code>ï¼Œè¯¥çŸ©é˜µå°†å­˜å‚¨åŸºä¹‹é—´çš„å˜æ¢çŸ©é˜µã€‚</li></ul><ol start=2><li><p><strong><code>np.set_printoptions(...)</code></strong>ï¼š</p><ul><li>è®¾ç½®æ‰“å°é€‰é¡¹ï¼Œä»¥ä¾¿åç»­æ‰“å°å˜æ¢çŸ©é˜µæ—¶èƒ½å¤Ÿæ›´å¥½åœ°æ˜¾ç¤ºæ•°å€¼ã€‚</li></ul></li><li><p><strong><code>for e in group.elements:</code></strong>ï¼š</p><ul><li>å¯¹äºç¾¤ä¸­çš„æ¯ä¸ªå…ƒç´  <code>e</code>ï¼š</li></ul></li><li><p><strong><code>ev = P(e) @ v</code></strong>ï¼š</p><ul><li>è®¡ç®—ç¾¤å…ƒç´  <code>e</code> å¯¹åº”çš„è¡¨ç¤ºçŸ©é˜µï¼Œé€šè¿‡ç”¨ç›´å’Œè¡¨ç¤º <code>P</code> å¯¹ <code>e</code> ä½œç”¨äºåŸºçš„å˜æ¢çŸ©é˜µ <code>v</code></li></ul></li><li><p><strong><code>change_of_basis[index[e], :] = ev.T</code></strong>ï¼š</p><ul><li>å°†å¾—åˆ°çš„è¡¨ç¤ºçŸ©é˜µ <code>ev</code> çš„è½¬ç½®ï¼ˆä¸ºäº†åŒ¹é…çŸ©é˜µç»´åº¦ï¼‰å­˜å‚¨åœ¨ <code>change_of_basis</code> ä¸­ï¼Œä½ç½®ç”± <code>index[e]</code> ç¡®å®šã€‚</li></ul></li><li><p><strong><code>change_of_basis /= np.sqrt(size)</code></strong>ï¼š</p><ul><li>å¯¹æ•´ä¸ª <code>change_of_basis</code> çŸ©é˜µè¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œä»¥ç¡®ä¿è¯¥å˜æ¢çŸ©é˜µæ˜¯æ­£äº¤çš„ã€‚</li></ul></li><li><p><code>change_of_basis_inv = change_of_basis.T</code></p><ul><li>å°†çŸ©é˜µè¿›è¡Œè½¬ç½®ã€‚</li></ul></li></ol><p>ç„¶åè¿”å›å¯¹åº”çš„ å˜é‡ï¼Œä¸€è‡´è¿”å›åˆ°æœ€å¼€å§‹ã€‚</p><h2 id=æ€»ç»“><a href=#%e6%80%bb%e7%bb%93>#</a>
æ€»ç»“</h2><p>ä¸Šé¢è™½ç„¶ä»‹ç»äº† e2cnn ç­‰å˜ç¾¤å·ç§¯åˆ›å»ºç¾¤ çš„è¿‡ç¨‹ï¼Œä½†æ˜¯ å®è¯å®è¯´ï¼Œæ•´ä½“æµç¨‹ä»ç„¶æ˜¯äº‘é‡Œé›¾é‡Œï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹é‡Œé¢ çš„æµç¨‹åšä¸€ä¸ªé‡æ–°çš„æ¢³ç†ã€‚</p><ol><li>æŒ‡å®šç¾¤çš„é˜¶æ•°ï¼Œè°ƒç”¨ Rot2dOnR2 è¿›è¡Œåˆå§‹åŒ–ã€‚</li><li>åˆ¤æ–­ä¼ å…¥ N çš„å¤§å°ï¼Œå¦‚æœè¯´ç°åœ¨æ˜¯å¤§äº 0 çš„è¯åˆ›å»º å¾ªç¯ç¾¤ï¼Œå°äº 0 çš„è¯åˆ›å»ºçš„ æ˜¯ç¦»æ•£ç¾¤ã€‚è¿™ç¯‡åšå®¢ä»…ä»…è®¨è®º å¾ªç¯ç¾¤çš„åˆ›å»ºã€‚</li><li>ç¡®å®šä¸ºå¾ªç¯ç¾¤ï¼Œè°ƒç”¨å¾ªç¯ç¾¤<code>cyclic_group</code>çš„åˆå§‹åŒ–ã€‚å°†å›è°ƒç”¨<code>_generator</code>é‡Œé¢çš„ CyclicGroup å‡½æ•°ï¼Œåˆå§‹åŒ–å¯¹åº”çš„å¾ªç¯ç¾¤ã€‚</li><li>åˆå§‹åŒ–ç¾¤å…ƒç´ çš„ç»™ä¸ªæ•°ï¼Œåç§°ï¼Œè¡¨ç¤ºï¼Œç„¶åè°ƒç”¨<code>_build_representations</code>æ„å»ºç¾¤ã€‚</li><li>é¦–å…ˆæ„å»ºç¾¤çš„ä¸å¯çº¦è¡¨ç¤ºï¼Œå› ä¸ºç°åœ¨ä½¿ç”¨çš„æ˜¯ å¾ªç¯ç¾¤ï¼ˆå¯¹ç§°ç¾¤ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™ä¸å¯çº¦è¡¨ç¤ºè‚¯å®šä¸ä¼šè¶…è¿‡å…¶ä¸­çš„ä¸€åŠã€‚</li><li>æ ¹æ®ä¼ å…¥çš„ç¾¤çš„é˜¶æ•°ä¸åŒï¼Œæ¯ä¸ªç¾¤ä¸­çš„å…ƒç´ éœ€è¦åˆ†åˆ«ä½¿ç”¨ä¸åŒçš„åˆå§‹åŒ–æ–¹å¼è¿›è¡Œæ„å»ºï¼Œè¿™ä¸ªè¯¦ç»†è¯·çœ‹ä¸Šé¢çš„ä»‹ç»ã€‚<ol><li>æ³¨æ„ï¼Œè¿™é‡Œé¢æœ‰å‘ç‚¹ï¼Œé‡Œé¢ä½¿ç”¨äº† lamda è¡¨è¾¾å¼ï¼Œä¼šåœ¨ ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šè¿›è¡Œåˆå§‹åŒ–ã€‚</li></ol></li><li>ä¸‹é¢å°†ä¼šæ„å»ºå¯¹åº”çš„ regular å±‚ï¼Œè¿™é‡Œçš„è¯å…¶å®å°±æ˜¯æ ¹æ®æˆ‘ä»¬ä¸Šé¢è®¡ç®—å‡ºæ¥çš„ irrepsï¼ˆä¸å¯çº¦è¡¨ç¤ºï¼‰ï¼Œè®¡ç®—å¯¹åº”çš„ irreps, change_of_basis, change_of_basis_invã€‚è¿™ä¸ªå°±åƒä¸ æ„å»º äº†ç¾¤çš„ å¸¸è§„è¡¨ç¤ºã€‚</li></ol><p>ä»¥ä¸Š å°±æ˜¯å¾ªç¯ç¾¤çš„åˆ›å»ºï¼Œä½†æ˜¯åœ¨ç¬¬ 7 ç‚¹ï¼Œé‡Œé¢çš„ç»†èŠ‚æ²¡æœ‰è®²æ¸…æ¥šï¼Œè¿™é‡Œçš„è¯å…¶å®åº”è¯¥ç»“åˆè®ºæ–‡æ¥çœ‹ã€‚</p><p><img src=https://img-1312072469.cos.ap-nanjing.myqcloud.com/20231203202637.png loading=lazy></p><p><img src=https://img-1312072469.cos.ap-nanjing.myqcloud.com/20231203203118.png loading=lazy></p><p>è®²é“ç†ï¼Œä¸Šé¢çš„æºç å½“ä¸­ï¼Œè¡¨ç¤ºäº†å¾ªç¯ç¾¤çš„å¸¸è§„è¡¨ç¤ºæ³•ï¼Œä¹Ÿæ„å»ºäº†å‘é‡$v$ï¼Œæ„å»ºäº†å¯¹åº”çš„è¡¨ç¤ºï¼Œåœ¨æ„å»ºå¯¹åº”çš„è¡¨ç¤ºçš„æ—¶å€™ï¼Œä½¿ç”¨åˆ°äº†æ¯ä¸ªç¾¤å…ƒç´ ä¸­çš„ è¡¨ç¤ºï¼Œå¯¹åº”ä¸Šé¢å…¬å¼ï¼Œå°±èƒ½è§£é‡Šçš„é€š</p><p><img src=https://img-1312072469.cos.ap-nanjing.myqcloud.com/20231203203749.png loading=lazy></p><p><img src=https://img-1312072469.cos.ap-nanjing.myqcloud.com/20231203204110.png loading=lazy></p><p>æœ€å…³é”®å°±æ˜¯è¿™é‡Œçš„è½¬æ¢ï¼Œå°±æ˜¯æœ‰äº†ç€äº†çš„è½¬æ¢ï¼Œæ‰èƒ½ä½¿ç”¨ä¸Šé¢å¯¹åº”çš„å†…å®¹è¿›è¡Œè¡¨ç¤ºã€‚</p></section><footer class=article-footer><section class=article-tags><a href=/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/>æœºå™¨å­¦ä¹ </a>
<a href=/tags/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/>æºç é˜…è¯»</a>
<a href=/tags/%E7%BE%A4%E8%AE%BA/>ç¾¤è®º</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Apache Licence 2.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/e2cnn-%E5%86%85%E5%AE%B9%E7%90%86%E8%A7%A3-r2conv-%E8%AF%A6%E8%A7%A3/><div class=article-details><h2 class=article-title>e2cnn å†…å®¹ç†è§£-R2Conv è¯¦è§£</h2></div></a></article><article><a href=/p/e2cnn-%E5%86%85%E5%AE%B9%E7%90%86%E8%A7%A3-%E7%BE%A4%E7%9A%84%E8%BE%93%E5%87%BA%E7%B1%BB%E5%9E%8B/><div class=article-details><h2 class=article-title>e2cnn å†…å®¹ç†è§£ - ç¾¤çš„è¾“å‡ºç±»å‹</h2></div></a></article><article><a href=/p/e2cnn%E5%86%85%E5%AE%B9%E7%90%86%E8%A7%A3-%E7%BE%A4%E7%9A%84%E8%BE%93%E5%85%A5%E7%B1%BB%E5%9E%8B/><div class=article-details><h2 class=article-title>e2cnnå†…å®¹ç†è§£-ç¾¤çš„è¾“å…¥ç±»å‹</h2></div></a></article><article><a href=/p/conv2d%E7%9A%84%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3/><div class=article-details><h2 class=article-title>Conv2dçš„ç®€å•ç†è§£</h2></div></a></article></div></div></aside><script src=//unpkg.com/@waline/client@v2/dist/waline.js></script><link href=//unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script>Waline.init({avatar:"retro",avatarcdn:"https://sdn.geekzu.org/avatar/",dark:'html[data-scheme="dark"]',el:"#waline",emoji:["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],highlight:!0,js:"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js",lang:"zh-CN",locale:{admin:"Admin",placeholder:null},meta:["nick","mail","link"],pageSize:20,placeholder:"",requiredMeta:["name","email","url"],serverURL:"https://waline-line-git-main-zrsaber.vercel.app",uploadimage:!1,visitor:!0})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Runqi Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.25.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>